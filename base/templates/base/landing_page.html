


{# base/templates/landing_page.html #}
{% extends "main.html" %}
{% load static i18n %}

{% block content %}
  {# Hero / phone carousel #}
  {% include "base/components/hero.html" %}

  {% include "base/components/logos_marquee.html" %}


  {# Tinder cards + AI form section #}
  {% include "base/components/tinder_form.html" %}

  <footer class="site-footer">
    <div class="footer__inner">
      <h3>Internstart</h3>
      <p>Helping students and graduates connect with top companies and discover career opportunities.</p>
      <nav class="footer__links" aria-label="Footer">
        <a href="{% url 'about' %}">About</a>
        <a href="#">Careers</a>
        <a href="{% url 'contact' %}">Contact</a>
        <a href="{% url 'privacy_policy' %}">Privacy Policy</a>
      </nav>
      <div class="footer__legal">© 2025 Internship Platform. All rights reserved.</div>
    </div>
</footer>

  
  <style>
  
    /* Footer */
    .site-footer{ background:#111; color:#bbb; text-align:center; padding:56px 20px; margin-top:80px; font-family:var(--font); }
    .footer__inner{ max-width:1000px; margin:0 auto; }
    .site-footer h3{ color:#fff; font-weight:600; margin:0 0 16px; }
    .site-footer p{ font-size:16px; line-height:1.6; margin:0 0 24px; color:#cfcfcf; }
    .footer__links a{ color:#bbb; text-decoration:none; margin: 0 14px; }
    .footer__links{ margin-bottom:28px; }
    .footer__legal{ font-size:14px; color:#777; }
  
  
  </style>

<!-- ✅ Bottom-left popup notification -->
<div id="upgradePopup" class="upgrade-popup" hidden>
  <div class="upgrade-popup__content">
    <strong id="upgradeName">Mark upgraded to Pro</strong>
    <p id="upgradeTime">10 minutes ago</p>
    <img id="popupMap" src="" alt="City map" />
  </div>
</div>

<style>
  .upgrade-popup {
    position: fixed;
    bottom: 24px;
    left: 24px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    overflow: hidden;
    width: 240px;
    max-width: 90vw;
    font-family: system-ui, sans-serif;
    opacity: 0;
    transform: translateX(-120%);
    transition: transform 0.6s ease, opacity 0.6s ease;
    z-index: 1000;
  }

  .upgrade-popup.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .upgrade-popup.hide {
    opacity: 0;
    transform: translateX(-120%);
  }

  .upgrade-popup__content {
    padding: 16px;
    text-align: left;
  }

  .upgrade-popup__content strong {
    display: block;
    color: #111;
    font-size: 16px;
    margin-bottom: 4px;
  }

  .upgrade-popup__content p {
    color: #666;
    font-size: 14px;
    margin-bottom: 10px;
  }

  .upgrade-popup__content img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
  }
</style>

<script>
  (() => {
    const popup = document.getElementById('upgradePopup');
    const nameEl = document.getElementById('upgradeName');
    const timeEl = document.getElementById('upgradeTime');
    const img = document.getElementById('popupMap');
  
    const apiKey = "{{ google_maps_key }}";
  
    const cities = [
      { name: "New York", lat: 40.7128, lon: -74.0060 },
      { name: "Los Angeles", lat: 34.0522, lon: -118.2437 },
      { name: "Chicago", lat: 41.8781, lon: -87.6298 },
      { name: "Houston", lat: 29.7604, lon: -95.3698 },
      { name: "Phoenix", lat: 33.4484, lon: -112.0740 },
      { name: "Philadelphia", lat: 39.9526, lon: -75.1652 },
      { name: "San Francisco", lat: 37.7749, lon: -122.4194 },
      { name: "Seattle", lat: 47.6062, lon: -122.3321 },
      { name: "Miami", lat: 25.7617, lon: -80.1918 },
      { name: "Boston", lat: 42.3601, lon: -71.0589 }
    ];
  
    const names = [
      "Olivia","Liam","Emma","Noah","Sophia","James","Ava","Lucas","Isabella","Mason",
      "Mia","Ethan","Charlotte","Henry","Amelia","Alexander","Harper","Benjamin","Evelyn","Elijah",
      "Ella","Michael","Scarlett","Daniel","Aria","Matthew","Luna","Jack","Layla","Owen",
      "Zoe","Sebastian","Nora","Aiden","Hazel","David","Grace","Carter","Chloe","Wyatt"
    ];
  
    const timeframes = [
      "Just now","1 minute ago","2 minutes ago","3 minutes ago","4 minutes ago",
      "5 minutes ago","6 minutes ago","7 minutes ago","8 minutes ago","9 minutes ago",
      "10 minutes ago","11 minutes ago","12 minutes ago","a few moments ago","moments ago",
      "about 2 minutes ago","recently","this minute","a few seconds ago","less than 1 minute ago"
    ];
  
    // ✅ Removed marker parameter
    function mapUrl(lat, lon) {
      return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lon}&zoom=12&size=300x200&scale=2&maptype=roadmap&key=${apiKey}`;
    }
  
    const randomItem = arr => arr[Math.floor(Math.random() * arr.length)];
  
    function setSafeSrc(el, src) {
      const testImg = new Image();
      testImg.onload = () => el.src = src;
      testImg.onerror = () =>
        el.src = "https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";
      testImg.src = src;
    }
  
    function showPopup() {
      const city = randomItem(cities);
      const name = randomItem(names);
      const time = randomItem(timeframes);
  
      nameEl.textContent = `${name} upgraded to Pro`;
      timeEl.textContent = time;
      setSafeSrc(img, mapUrl(city.lat, city.lon));
  
      popup.hidden = false;
      popup.classList.remove("hide");
      popup.classList.add("visible");
  
      // Hide after 4 seconds
      setTimeout(() => {
        popup.classList.remove("visible");
        popup.classList.add("hide");
      }, 4000);
    }
  
    // Loop: every 6 seconds (2 sec gap after hide)
    setTimeout(() => {
      showPopup();
      setInterval(showPopup, 6000);
    }, 2000);
  })();
  </script>
  



{% endblock content %}


