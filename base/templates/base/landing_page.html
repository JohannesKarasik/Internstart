


{# base/templates/landing_page.html #}
{% extends "main.html" %}
{% load static i18n %}

{% block content %}
  {# Hero / phone carousel #}
  {% include "base/components/hero.html" %}
  <!-- =========================
     Reviews (Auto Carousel)
========================= -->
<section class="reviews" aria-label="User reviews">
  <div class="reviews__inner">
    <header class="reviews__head">
      <h3 class="reviews__title">What people are saying</h3>
      <p class="reviews__sub">Real success stories from across the world</p>
    </header>

    <div class="reviews__viewport">
      <ul class="reviews__track">
        <!-- Staged reviews â€” replace later (US, UK, DK only) -->
        <li class="review-card" data-country="US">
          <span class="review-flag" aria-hidden="true">ğŸ‡ºğŸ‡¸</span>
          <div class="stars" style="--rating:4.9"></div>
          <p class="review-text">â€œThe experience felt premium from day one. I landed two interviews in a week.â€</p>
          <div class="reviewer">Ava Thompson</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="UK">
          <span class="review-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
          <div class="stars" style="--rating:5"></div>
          <p class="review-text">â€œClean UI, fast results, and genuinely useful suggestions. Totally worth it.â€</p>
          <div class="reviewer">Oliver Bennett</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="DK">
          <span class="review-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
          <div class="stars" style="--rating:4.7"></div>
          <p class="review-text">â€œVirkelig nemt at bruge, og resultaterne kom hurtigt.â€</p>
          <div class="reviewer">Sofie Madsen</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="US">
          <span class="review-flag" aria-hidden="true">ğŸ‡ºğŸ‡¸</span>
          <div class="stars" style="--rating:4.8"></div>
          <p class="review-text">â€œSuper polished. The insights were spot on and easy to act on.â€</p>
          <div class="reviewer">Marcus Lee</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="UK">
          <span class="review-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
          <div class="stars" style="--rating:4.6"></div>
          <p class="review-text">â€œA modern product that actually helps. The small details shine.â€</p>
          <div class="reviewer">Camilla Wright</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="DK">
          <span class="review-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
          <div class="stars" style="--rating:4.9"></div>
          <p class="review-text">â€œSmidigt fra start til slut. Jeg anbefaler det.â€</p>
          <div class="reviewer">Mikkel Andersen</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="US">
          <span class="review-flag" aria-hidden="true">ğŸ‡ºğŸ‡¸</span>
          <div class="stars" style="--rating:4.8"></div>
          <p class="review-text">â€œGreat UX and even better outcomes. Interviews came quickly.â€</p>
          <div class="reviewer">Arjun Patel</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="UK">
          <span class="review-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
          <div class="stars" style="--rating:4.7"></div>
          <p class="review-text">â€œFast, clear, and genuinely helpful. Brilliant.â€</p>
          <div class="reviewer">Lucia Carter</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="DK">
          <span class="review-flag" aria-hidden="true">ğŸ‡©ğŸ‡°</span>
          <div class="stars" style="--rating:4.9"></div>
          <p class="review-text">â€œDesignet er flot, og resultaterne er reelle.â€</p>
          <div class="reviewer">Gabriel Nielsen</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>

        <li class="review-card" data-country="US">
          <span class="review-flag" aria-hidden="true">ğŸ‡ºğŸ‡¸</span>
          <div class="stars" style="--rating:5"></div>
          <p class="review-text">â€œPolished experience with measurable results. Fantastic.â€</p>
          <div class="reviewer">Chloe Adams</div>
          <span class="translated" aria-hidden="true">translated</span>
        </li>
      </ul>
    </div>
  </div>
</section>

<style>
  :root{
    --rv-gap: clamp(14px, 2vw, 22px);
    --rv-card-w: clamp(260px, 28vw, 360px);
    --rv-card-h: auto;
    --rv-pad-y: clamp(48px, 7vw, 100px); /* equal top/bottom padding */
    --rv-bg: #ffffff;
    --rv-ink: #0f172a;
    --rv-muted: #667085;
    --rv-line: #e7edf5;
    --rv-shadow: 0 18px 40px rgba(2,8,23,.08);
    --rv-grad1: rgba(59,130,246,.08);
    --rv-grad2: rgba(16,185,129,.08);
  }

  .reviews{
    position: relative;
    padding: var(--rv-pad-y) 0; /* equal top & bottom */
    background:
      radial-gradient(80vmax 60vmax at 15% 30%, var(--rv-grad1) 0%, transparent 60%),
      radial-gradient(80vmax 60vmax at 85% 70%, var(--rv-grad2) 0%, transparent 60%),
      linear-gradient(180deg, #f9fbff 0%, #ffffff 100%);
  }
  .reviews__inner{ max-width: 1480px; margin:0 auto; padding:0 16px; }
  .reviews__head{ text-align:center; margin-bottom: clamp(18px,2vw,24px); }
  .reviews__title{
    margin:0; font: 900 clamp(22px,3.2vw,36px)/1.1 var(--font,system-ui);
    color:#0b1220; letter-spacing:-.02em;
  }
  .reviews__sub{
    margin:.6rem 0 0; color:var(--rv-muted); font:600 clamp(14px,1.6vw,16px)/1.5 var(--font,system-ui);
  }

  .reviews__viewport{
    overflow: hidden;
    -webkit-mask-image: linear-gradient(to right, transparent 0%, #000 6%, #000 94%, transparent 100%);
            mask-image: linear-gradient(to right, transparent 0%, #000 6%, #000 94%, transparent 100%);
  }
  .reviews__track{
    display: flex;
    align-items: stretch;
    gap: var(--rv-gap);
    will-change: transform;
  }

  .review-card{
    position: relative;
    flex: 0 0 var(--rv-card-w);
    width: var(--rv-card-w);
    min-height: var(--rv-card-h);
    background: var(--rv-bg);
    border: 1px solid var(--rv-line);
    border-radius: 16px;
    box-shadow: var(--rv-shadow);
    padding: 18px 18px 16px;
    display: grid;
    grid-template-rows: auto auto 1fr auto;
    row-gap: 10px;
  }
  .review-flag{
    position: absolute; top: 10px; right: 10px;
    font-size: 18px; filter: saturate(1.1);
  }
  .translated{
    display: none;
    position: absolute; top: 10px; left: 10px;
    padding: 4px 8px; border-radius: 999px;
    background: #eef2ff; color:#4f46e5;
    font: 700 11px/1 var(--font,system-ui); letter-spacing:.02em;
    text-transform: uppercase;
  }
  /* Only show the "translated" badge for DK */
  .review-card[data-country="DK"] .translated{ display: inline-flex; align-items: center; }

  .stars{
    --rating: 4.8; /* 0..5 */
    position: relative; display: inline-block; font-size: 18px; line-height:1;
    letter-spacing: 2px; user-select:none;
  }
  .stars::before{ content: "â˜…â˜…â˜…â˜…â˜…"; color:#e5e7eb; }
  .stars::after{
    content: "â˜…â˜…â˜…â˜…â˜…"; color:#f59e0b; position:absolute; left:0; top:0;
    width: calc(var(--rating) / 5 * 100%); overflow: hidden; white-space: nowrap;
  }
  .review-text{
    margin: 0; color: #0f172a; font: 600 14px/1.55 var(--font,system-ui);
  }
  .reviewer{
    margin-top: 4px; color:#344054; font: 800 13px/1 var(--font,system-ui);
  }

  @media (prefers-reduced-motion: reduce){
    .reviews__track{ transform: none !important; transition: none !important; }
  }
</style>

<script>
(() => {
  const viewport = document.querySelector('.reviews__viewport');
  const track = document.querySelector('.reviews__track');
  if (!viewport || !track) return;

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (prefersReduced) return;

  // Duplicate items once for a smooth, infinite loop
  const originals = Array.from(track.children);
  originals.forEach(node => track.appendChild(node.cloneNode(true)));

  let step = 0;
  let index = 0;
  let gapPx = 0;

  const computeStep = () => {
    const first = track.querySelector('.review-card');
    if (!first) return;
    const rect = first.getBoundingClientRect();
    const styles = getComputedStyle(track);
    const rawGap = parseFloat(styles.columnGap || styles.gap || '0') || 0;
    gapPx = rawGap;
    step = rect.width + gapPx;

    track.style.transition = 'none';
    track.style.transform = `translateX(${-index * step}px)`;
    requestAnimationFrame(() => track.style.transition = '');
  };

  const advance = () => {
    index += 1;
    track.style.transition = 'transform .6s cubic-bezier(.22,.61,.36,1)';
    track.style.transform = `translateX(${-index * step}px)`;

    if (index >= originals.length) {
      setTimeout(() => {
        track.style.transition = 'none';
        index = 0;
        track.style.transform = 'translateX(0)';
        requestAnimationFrame(() => track.style.transition = '');
      }, 620);
    }
  };

  const ro = new ResizeObserver(computeStep);
  ro.observe(viewport);
  window.addEventListener('load', computeStep, { once:true });
  computeStep();

  // Move one card every 3 seconds
  const timer = setInterval(advance, 3000);

  const io = new IntersectionObserver((entries) => {
    const visible = entries[0].isIntersecting;
    if (!visible) { track.style.transition = 'none'; }
  }, { threshold: 0.05 });
  io.observe(viewport);
})();
</script>


  {% include "base/components/logos_marquee.html" %}


  {# Tinder cards + AI form section #}
  {% include "base/components/tinder_form.html" %}

  <footer class="site-footer">
    <div class="footer__inner">
      <h3>Internstart</h3>
      <p>Helping students and graduates connect with top companies and discover career opportunities.</p>
      <nav class="footer__links" aria-label="Footer">
        <a href="{% url 'about' %}">About</a>
        <a href="#">Careers</a>
        <a href="{% url 'contact' %}">Contact</a>
        <a href="{% url 'privacy_policy' %}">Privacy Policy</a>
      </nav>
      <div class="footer__legal">Â© 2025 Internship Platform. All rights reserved.</div>
    </div>
</footer>

  
  <style>
  
    /* Footer */
    .site-footer{ background:#111; color:#bbb; text-align:center; padding:56px 20px; margin-top:80px; font-family:var(--font); }
    .footer__inner{ max-width:1000px; margin:0 auto; }
    .site-footer h3{ color:#fff; font-weight:600; margin:0 0 16px; }
    .site-footer p{ font-size:16px; line-height:1.6; margin:0 0 24px; color:#cfcfcf; }
    .footer__links a{ color:#bbb; text-decoration:none; margin: 0 14px; }
    .footer__links{ margin-bottom:28px; }
    .footer__legal{ font-size:14px; color:#777; }
  
  
  </style>

<!-- âœ… Bottom-left popup notification -->
<div id="upgradePopup" class="upgrade-popup" hidden>
  <div class="upgrade-popup__content">
    <strong id="upgradeName">Mark upgraded to Pro</strong>
    <p id="upgradeTime">10 minutes ago</p>
    <img id="popupMap" src="" alt="City map" />
  </div>
</div>

<style>
  .upgrade-popup {
    position: fixed;
    bottom: 24px;
    left: 24px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    overflow: hidden;
    width: 240px;
    max-width: 90vw;
    font-family: system-ui, sans-serif;
    opacity: 0;
    transform: translateX(-120%);
    transition: transform 0.6s ease, opacity 0.6s ease;
    z-index: 1000;
  }

  .upgrade-popup.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .upgrade-popup.hide {
    opacity: 0;
    transform: translateX(-120%);
  }

  .upgrade-popup__content {
    padding: 16px;
    text-align: left;
  }

  .upgrade-popup__content strong {
    display: block;
    color: #111;
    font-size: 16px;
    margin-bottom: 4px;
  }

  .upgrade-popup__content p {
    color: #666;
    font-size: 14px;
    margin-bottom: 10px;
  }

  .upgrade-popup__content img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
  }
</style>

<script>
(() => {
  const popup = document.getElementById('upgradePopup');
  const nameEl = document.getElementById('upgradeName');
  const timeEl = document.getElementById('upgradeTime');
  const img = document.getElementById('popupMap');

  const apiKey = "{{ google_maps_key }}";

  const cities = [

    { name: "Chicago", lat: 41.8781, lon: -87.6298 },
    { name: "Houston", lat: 29.7604, lon: -95.3698 },
    { name: "Phoenix", lat: 33.4484, lon: -112.0740 },
    { name: "Philadelphia", lat: 39.9526, lon: -75.1652 },
    { name: "San Francisco", lat: 37.7749, lon: -122.4194 },
    { name: "Seattle", lat: 47.6062, lon: -122.3321 },
    { name: "Miami", lat: 25.7617, lon: -80.1918 },
    { name: "Boston", lat: 42.3601, lon: -71.0589 }
  ];

  const names = [
    "Olivia","Liam","Emma","Noah","Sophia","James","Ava","Lucas","Isabella","Mason",
    "Mia","Ethan","Charlotte","Henry","Amelia","Alexander","Harper","Benjamin","Evelyn","Elijah",
    "Ella","Michael","Scarlett","Daniel","Aria","Matthew","Luna","Jack","Layla","Owen",
    "Zoe","Sebastian","Nora","Aiden","Hazel","David","Grace","Carter","Chloe","Wyatt"
  ];

  // âœ… Generate random realistic timeframe between 12 minutes and 4 hours
  function randomTimeframe() {
    const minMinutes = 12;
    const maxMinutes = 240; // 4 hours
    const randomMinutes = Math.floor(Math.random() * (maxMinutes - minMinutes + 1)) + minMinutes;

    if (randomMinutes >= 60) {
      const hours = Math.floor(randomMinutes / 60);
      return hours === 1 ? "1 hour ago" : `${hours} hours ago`;
    } else {
      return `${randomMinutes} minutes ago`;
    }
  }

  // âœ… Removed marker parameter
  function mapUrl(lat, lon) {
    return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lon}&zoom=12&size=300x200&scale=2&maptype=roadmap&key=${apiKey}`;
  }

  const randomItem = arr => arr[Math.floor(Math.random() * arr.length)];

  function setSafeSrc(el, src) {
    const testImg = new Image();
    testImg.onload = () => el.src = src;
    testImg.onerror = () =>
      el.src = "https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";
    testImg.src = src;
  }

  function showPopup() {
    const city = randomItem(cities);
    const name = randomItem(names);
    const time = randomTimeframe();

    nameEl.textContent = `${name} upgraded to Pro`;
    timeEl.textContent = time;
    setSafeSrc(img, mapUrl(city.lat, city.lon));

    popup.hidden = false;
    popup.classList.remove("hide");
    popup.classList.add("visible");

    // Hide after 4 seconds
    setTimeout(() => {
      popup.classList.remove("visible");
      popup.classList.add("hide");
    }, 4000);
  }

  // âœ… Show first popup after 10s, then one every 10s up to 5 total
  setTimeout(() => {
    let count = 0;
    const maxPopups = 5;
    const popupInterval = setInterval(() => {
      if (count >= maxPopups) {
        clearInterval(popupInterval);
        return;
      }
      showPopup();
      count++;
    }, 10000);

    // Show first immediately at 10s
    showPopup();
    count++;
  }, 10000);
})();
</script>





{% endblock content %}


