{# base/templates/base/components/logos_marquee.html #}
{% load static i18n %}
{% load static %}

<section class="logos" aria-label="{% trans 'Companies where users landed interviews' %}">
  <div class="logos__inner">
    <h3 class="logos__title">
      Søg <span class="accent">jobs</span> hos 200+ virksomheder på få minutter — drevet af <span class="accent">AI</span>
    </h3>

    <!-- Masked viewport -->
    <div class="logos__viewport" aria-hidden="true">

      <!-- Row A -->
      <div class="logos__track logos__track--a" data-speed="32">
        <div class="logo"><img class="logo__img" src="{% static 'images/novo-nordisk.png' %}" alt="Novo Nordisk"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/maersk.jpeg' %}" alt="Maersk"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/lego.jpg' %}" alt="LEGO"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/dsv.png' %}" alt="DSV"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/vestas.png' %}" alt="Vestas"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/genmab.png' %}" alt="Genmab"></div>
      </div>

      <!-- Row B -->
      <div class="logos__track logos__track--b" data-speed="42">
        <div class="logo"><img class="logo__img" src="{% static 'images/coop.png' %}" alt="COOP Danmark"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/copenhagen-airports.png' %}" alt="Copenhagen Airports"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/bec.png' %}" alt="BEC Financial Technologies"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/Tryg.png' %}" alt="Tryg"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/danskebank.png' %}" alt="Danske Bank"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/salling_group.png' %}" alt="Salling Group"></div>
      </div>
      

      <!-- Row C -->
      <div class="logos__track logos__track--c" data-speed="52">
        <div class="logo"><img class="logo__img" src="{% static 'images/pandora.png' %}" alt="Pandora"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/carlsberg.png' %}" alt="Carlsberg"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/coloplast.png' %}" alt="Coloplast"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/novozymes.jpeg' %}" alt="Novozymes"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/b&o.png' %}" alt="Bang & Olufsen"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/groundfos.png' %}" alt="Grundfos"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/nets.jpg' %}" alt="Nets"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/lunar.jpg' %}" alt="Lunar"></div>
      </div>
      

    </div>
  </div>
</section>

<style>
  :root{
    --logos-gap: clamp(17px, 2.3vw, 30px);
    --logos-pad-y: clamp(20px, 3vw, 40px);
    --section-pad-y: clamp(48px, 6vw, 90px);
    --accent: #FF2F5A; /* heading accent color */
  }

  .logos{
    position: relative;
    padding-bottom: 55px !important;
    padding-top: 55px !important;
    overflow: hidden;
    isolation: isolate;
    background: #fff; /* pure white background */
  }

  /* Background removed */
  .logos__bg{
    display: none !important;
  }

  .logos__inner{
    max-width: min(1480px, 94vw);
    margin: 0 auto;
    padding: 0 12px;
    position: relative;
    z-index: 1;
  }

  /* Nicer, lighter heading */
  .logos__title{
    text-align: center;
    font-weight: 600;                 /* lighter than before */
    letter-spacing: -0.005em;         /* gentle tracking */
    font-size: clamp(22px, 2.7vw, 36px);
    line-height: 1.2;
    color: #0b1220;
    margin-bottom: 12px;
    text-wrap: balance;
  }

  /* Accent spans: ONLY color change (no outline/highlight/blue) */
  .logos__title .t-accent{
    color: #FF2F5A;
    background: none;
    border: none;
    text-decoration: none;
    font-weight: inherit;             /* keep overall heading light */
  }

  .logos__viewport{
    margin-inline: calc(50% - 50vw);
    width: 100vw;
    overflow: hidden;
    padding: var(--logos-pad-y) 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background: transparent;
    -webkit-mask-image: linear-gradient(to right, transparent 0%, #000 0.6%, #000 99.4%, transparent 100%);
            mask-image: linear-gradient(to right, transparent 0%, #000 0.6%, #000 99.4%, transparent 100%);
  }

  .logos__track{
    display: flex;
    align-items: center;
    gap: var(--logos-gap);
    animation: marquee linear infinite;
  }

  .logos__track--a{ animation-duration: 16s; }
  .logos__track--b{ animation-duration: 20s; opacity:.97; }
  .logos__track--c{ animation-duration: 24s; opacity:.95; }

  @keyframes marquee{
    from{ transform: translateX(0); }
    to  { transform: translateX(-50%); }
  }

  /* Subtle, light outline using #FF2F5A for cards */
  .logo{
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 16px;
    min-width: clamp(110px, 12vw, 180px);
    height: clamp(44px, 4.8vw, 60px);
    background: #fff;
    border: 1px solid rgba(255, 47, 90, 0.28);
    border-radius: 14px;
    box-shadow: 0 1px 3px rgba(16, 24, 40, 0.05);
    transition: box-shadow .2s ease, transform .2s ease, border-color .2s ease;
  }

  .logo:hover{
    transform: translateY(-1px);
    border-color: rgba(255, 47, 90, 0.4);
    box-shadow: 0 4px 14px rgba(16, 24, 40, 0.08), 0 0 0 2px rgba(255, 47, 90, 0.10);
  }

  .logo:focus-visible{
    outline: none;
    box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(255, 47, 90, 0.28);
  }

  .logo__img{
    display: block;
    max-height: 26px;
    max-width: 136px;
    object-fit: contain;
    filter: saturate(.95) contrast(1);
  }

  @media (prefers-reduced-motion: reduce){
    .logos__track{ animation: none !important; }
    .logo{ transition: none; }
  }
</style>

<script>
(() => {
  const onReady = (fn) =>
    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', fn, { once: true })
      : fn();

  onReady(() => {
    const tracks = document.querySelectorAll('.logos__track');
    tracks.forEach(track => {
      const speed = Number(track.dataset.speed || 32);
      const children = Array.from(track.children);
      children.forEach(node => track.appendChild(node.cloneNode(true)));
      track.style.animationDuration = `${Math.max(18, speed)}s`;
    });
  });
})();
</script>
