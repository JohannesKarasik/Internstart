{# base/templates/base/components/logos_marquee.html #}
{% load static i18n %}
{% load static %}

<section class="logos" aria-label="{% trans 'Companies where users landed interviews' %}">
  <div class="logos__inner">
    <h3 class="logos__title">
        {% blocktrans %}Land interviews at top companies with AI-tailored applications{% endblocktrans %}
    </h3>

    <!-- Masked viewport -->
    <div class="logos__viewport" aria-hidden="true">

      <!-- Row A -->
      <div class="logos__track logos__track--a" data-speed="32">
        <div class="logo"><img class="logo__img" src="{% static 'images/netflix.png' %}" alt="Netflix"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/airbnb.png' %}" alt="Airbnb"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/amazon.png' %}" alt="Amazon"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/anthropic.png' %}" alt="Anthropic"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/adobe.png' %}" alt="Adobe"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/facebook.png' %}" alt="Facebook"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/stripe.png' %}" alt="Stripe"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/spotify.png' %}" alt="Spotify"></div>
      </div>

      <!-- Row B -->
      <div class="logos__track logos__track--b" data-speed="42">
        <div class="logo"><img class="logo__img" src="{% static 'images/goldman.png' %}" alt="Goldman Sachs"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/spacex.png' %}" alt="SpaceX"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/checkout.png' %}" alt="Checkout.com"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/clickup.png' %}" alt="ClickUp"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/twitch.png' %}" alt="Twitch"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/canva.png' %}" alt="Canva"></div>
      </div>

      <!-- Row C -->
      <div class="logos__track logos__track--c" data-speed="52">
        <div class="logo"><img class="logo__img" src="{% static 'images/discord.png' %}" alt="Discord"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/benchling.jpeg' %}" alt="Benchling"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/mistral.png' %}" alt="Mistral AI"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/robinhood.png' %}" alt="Robinhood"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/vercel.png' %}" alt="Vercel"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/anduril.png' %}" alt="Anduril"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/x.jpg' %}" alt="X (Twitter)"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/databricks.png' %}" alt="Databricks"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/snowflake.png' %}" alt="Snowflake"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/figma.png' %}" alt="Figma"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/paypal.png' %}" alt="PayPal"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/uber.png' %}" alt="Uber"></div>
        <div class="logo"><img class="logo__img" src="{% static 'images/doordash.png' %}" alt="DoorDash"></div>
      </div>

    </div>
  </div>
</section>

<style>
  /* ============================
     Theme — Calm dark “Pro Mesh”
     Adds contrast to a white homepage
     without overpowering the content.
  ============================= */
  :root {
    /* brand accents */
    --brand-1: #ff5c72;       /* coral */
    --brand-2: #ff9daa;       /* lighter coral */

    /* section spacing */
    --logos-gap: clamp(16px, 2.2vw, 28px);
    --logos-pad-y: clamp(28px, 5vw, 60px);
    --section-pad-y: clamp(36px, 6vw, 84px);

    /* cards */
    --logos-card: #ffffff;
    --logos-border: rgba(15,23,42,.06);
    --logos-shadow: 0 10px 30px rgba(2,8,23,.14);
  }

  /* --- Section container with layered background --- */
  .logos{
    position: relative;
    padding: var(--section-pad-y) 0;
    overflow: hidden;
    /* Base deep gradient */
    background:
      radial-gradient(1200px 520px at 50% -10%,
        rgba(255,255,255,.06), transparent 70%),
      linear-gradient(180deg, #0b1220 0%, #12192b 60%, #0b1220 100%);
    border-top: 1px solid rgba(148,163,184,.16);
    isolation: isolate; /* let pseudo-elements blend nicely */
  }

  /* Soft coral mesh glows (very subtle) */
  .logos::before{
    content:"";
    position:absolute; inset:-20% -10% -10%;
    pointer-events:none; z-index:0;
    background:
      radial-gradient(900px 260px at 12% 8%, rgba(255,92,114,.16), transparent 60%),
      radial-gradient(820px 240px at 90% 18%, rgba(255,157,170,.14), transparent 62%);
    filter: saturate(.95);
    transform: translateZ(0);
    animation: mesh-sway 90s linear infinite;
    opacity:.9;
  }

  /* Ultra-faint grid for depth */
  .logos::after{
    content:"";
    position:absolute; inset:0;
    pointer-events:none; z-index:0;
    background:
      repeating-linear-gradient(90deg, rgba(255,255,255,.035) 0 1px, transparent 1px 38px),
      repeating-linear-gradient( 0deg, rgba(255,255,255,.03)  0 1px, transparent 1px 38px);
    /* Fade grid toward edges so it never feels busy */
    -webkit-mask-image: radial-gradient(90% 75% at 50% 45%, #000 60%, rgba(0,0,0,0) 100%);
            mask-image: radial-gradient(90% 75% at 50% 45%, #000 60%, rgba(0,0,0,0) 100%);
  }

  @keyframes mesh-sway{
    0%   { transform: translate3d(0,0,0) rotate(0deg); }
    50%  { transform: translate3d(-1%, .2%, 0) rotate(180deg); }
    100% { transform: translate3d(0,0,0) rotate(360deg); }
  }

  .logos__inner {
    max-width: min(1480px, 94vw);
    margin: 0 auto;
    padding: 0 12px;
    position: relative;
    z-index: 1; /* above background layers */
  }

  .logos__title {
    text-align: center;
    font-weight: 800;
    letter-spacing: -0.01em;
    font-size: clamp(16px, 2.3vw, 22px);
    color: #eef2ff; /* soft near-white for dark bg */
    opacity: .96;
    margin-bottom: 14px;
    position: relative;
  }

  /* subtle spotlight behind title */
  .logos__title::after{
    content:"";
    position:absolute; left:50%; transform:translateX(-50%);
    top:50%; width: clamp(180px, 40vw, 560px); height: clamp(40px, 8vw, 96px);
    background: radial-gradient(60% 80% at 50% 50%, rgba(255,255,255,.14), rgba(255,255,255,0) 70%);
    filter: blur(12px);
    z-index:-1;
  }

  .logos__viewport {
    overflow: hidden;
    border-radius: 16px;
    padding: var(--logos-pad-y) 0;
    display: flex;
    flex-direction: column;
    gap: 18px;

    /* mask left/right so rows fade gracefully */
    -webkit-mask-image: linear-gradient(to right, transparent 0, #000 7%, #000 93%, transparent 100%);
            mask-image: linear-gradient(to right, transparent 0, #000 7%, #000 93%, transparent 100%);

    /* translucent inner panel to separate from dark bg just a touch */
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
    border: 1px solid rgba(255,255,255,.08);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 20px 40px rgba(2,8,23,.18);
    backdrop-filter: blur(2px);
  }

  .logos__track {
    display: flex;
    align-items: center;
    gap: var(--logos-gap);
    animation: marquee linear infinite;
    will-change: transform;
  }
  .logos__viewport:hover .logos__track { animation-play-state: paused; }

  .logos__track--a { animation-duration: 32s; }
  .logos__track--b { animation-duration: 42s; opacity: .96; }
  .logos__track--c { animation-duration: 52s; opacity: .92; }

  @keyframes marquee {
    from { transform: translateX(0); }
    to   { transform: translateX(-50%); }
  }

  .logo {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 14px 18px;
    min-width: clamp(140px, 16vw, 220px);
    height: clamp(52px, 6vw, 68px);
    background: var(--logos-card);
    border: 1px solid var(--logos-border);
    border-radius: 14px;
    box-shadow: var(--logos-shadow);
  }

  .logo__img {
    display: block;
    max-height: 28px;
    max-width: 140px;
    object-fit: contain;
    filter: saturate(.95) contrast(1);
  }

  @media (prefers-reduced-motion: reduce) {
    .logos__track { animation: none !important; }
    .logos::before { animation: none !important; }
  }
</style>

<script>
(() => {
  const onReady = (fn) => document.readyState === 'loading'
    ? document.addEventListener('DOMContentLoaded', fn, { once: true })
    : fn();

  onReady(() => {
    const tracks = document.querySelectorAll('.logos__track');
    tracks.forEach(track => {
      const speed = Number(track.dataset.speed || 32);
      const children = Array.from(track.children);
      // clone once to form a seamless loop
      children.forEach(node => track.appendChild(node.cloneNode(true)));
      // clamp duration for accessibility and comfort
      track.style.animationDuration = `${Math.max(18, speed)}s`;
    });
  });
})();
</script>
