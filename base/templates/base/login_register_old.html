{% extends 'main.html' %}
{% load static %}

{% block content %}

<!-- Background Video -->
<video autoplay muted loop playsinline style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -2;
">
    <source src="{% static 'images/dede.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
</video>

<!-- Dark Overlay -->
<div style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.65);
    z-index: -1;
"></div>

<main class="auth layout" style="
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
">
  {% if page == 'login' %}
  <div class="layout__box" style="
      border: 1px solid #ddd;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      background-color: white;
      width: 360px;
      max-width: 90%;
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      z-index: 2;
  ">
      <div class="layout__boxHeader" style="background-color: #ff2a55; color: white; text-align: center; padding: 1rem; border-radius: 8px 8px 0 0;">
          <h3 style="margin: 0;">Login</h3>
      </div>
      <div class="layout__body" style="margin-top: 1rem;">
          <h2 class="auth__tagline" style="color: #333; margin-bottom: 1.5rem;">Find your study partner</h2>
          <form class="form" action="" method="POST">
              {% csrf_token %}
              <div class="form__group" style="margin-bottom: 1rem;">
                  <label for="username">Email</label>
                  <input id="username" name="email" type="email" placeholder="e.g. dennis_ivy@email.com"
                      style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px;" />
              </div>
              <div class="form__group" style="margin-bottom: 1.5rem;">
                  <label for="password">Password</label>
                  <input id="password" name="password" type="password" placeholder="••••••••"
                      style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px;" />
              </div>
              <button class="btn btn--main" type="submit"
                  style="background-color: #ff2a55; color: white; border: none; padding: 12px 20px; border-radius: 8px; width: 100%; font-size: 1rem; cursor: pointer;">
                  Login
              </button>
          </form>
          <div class="auth__action" style="margin-top: 1.5rem;">
              <p style="margin-bottom: 0.5rem;">Haven't signed up yet?</p>
              <a href="{% url 'register' %}" style="color: #ff2a55; font-weight: bold;">Sign Up</a>
          </div>
      </div>
  </div>
  {% else %}
  <div class="layout__box" style="
      border: 1px solid #ddd;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      background-color: white;
      width: 400px;
      max-width: 90%;
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      z-index: 2;
  ">
      <div class="layout__boxHeader" style="background-color: #ff2a55; color: white; text-align: center; padding: 1rem; border-radius: 8px 8px 0 0;">
          <h3 style="margin: 0;">Register</h3>
      </div>
      <div class="layout__body" style="margin-top: 1rem;">
          <h2 class="auth__tagline" style="color: #333; margin-bottom: 1.5rem;">Find your study partner</h2>
          <form class="form" action="" method="POST">
              {% csrf_token %}
              {% for field in form %}
              <div class="form__group" style="margin-bottom: 1rem;">
                  <label for="{{field.id_for_label}}">{{field.label}}</label>
                  {{field}}
              </div>
              {% endfor %}
              <button class="btn btn--main" type="submit"
                  style="background-color: #ff2a55; color: white; border: none; padding: 12px 20px; border-radius: 8px; width: 100%; font-size: 1rem; cursor: pointer;">
                  Register
              </button>
          </form>
          <div class="auth__action" style="margin-top: 1.5rem;">
              <p style="margin-bottom: 0.5rem;">Already signed up?</p>
              <a href="{% url 'login' %}" style="color: #ff2a55; font-weight: bold;">Login</a>
          </div>
      </div>
  </div>
  {% endif %}
</main>
{% endblock content %}