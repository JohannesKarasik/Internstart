{% extends 'main.html' %}
{% load static %}
{% load i18n %}
{% block content %}

<!-- Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">

<!-- =========================
      HERO
========================= -->
<section class="hero">
  <div class="hero__copy">
    <h1 class="hero__title">
      {% blocktrans trimmed %}Apply to <span class="accent">200+ jobs</span> in minutes<br>powered by <span class="accent">AI</span>{% endblocktrans %}
    </h1>
  
    <p class="hero__subhead">
      {% trans "Internstart finds the right opportunities, fills out applications, and sends them for you. Land interviews faster without the endless forms." %}
    </p>
  
    <div class="hero__ctas">
      <a href="{% url 'register' %}" class="btn btn--primary">
        {% trans "Start applying to jobs with AI" %}
      </a>
      <a href="{% url 'app_login' %}" class="btn btn--ghost" style="box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;">{% trans "Login" %}</a>
    </div>
  </div>
  

  <!-- Card deck -->
  <div class="deck" aria-label="Featured internships">
    <!-- Card 1 -->
    <article class="card card--pink">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/Goldman-Sachs-1869.png' %}" alt="Goldman Sachs logo" class="card__logo">
          <h4 class="card__role">Investment Banking Intern</h4>
          <h3 class="card__company">Goldman Sachs</h3>
          <p class="card__meta">Location: New York, NY</p>
        </div>

        <div class="card__actions" aria-label="Card actions">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>

    <!-- Card 2 -->
    <article class="card card--blue">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/danske-bank.png' %}" alt="Danske Bank logo" class="card__logo">
          <h4 class="card__role">Corporate Finance Intern</h4>
          <h3 class="card__company">Danske Bank</h3>
          <p class="card__meta">Location: Copenhagen, Denmark</p>
        </div>
        <div class="card__actions" aria-hidden="true">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>

    <!-- Card 3 -->
    <article class="card card--yellow">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/deutsche-bank.png' %}" alt="Deutsche Bank logo" class="card__logo">
          <h4 class="card__role">Global Markets Intern</h4>
          <h3 class="card__company">Deutsche Bank</h3>
          <p class="card__meta">Location: Frankfurt, Germany</p>
        </div>
        <div class="card__actions" aria-hidden="true">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>
  </div>



  <!-- AI Autofill Demo -->
<div class="ai-demo" role="region" aria-label="AI auto-filling a job application">
  <div class="ai-demo__window">
    <div class="ai-demo__chrome">
      <div class="ai-demo__dots" aria-hidden="true">
        <span></span><span></span><span></span>
      </div>
      <div class="ai-demo__title">{% trans "Job Application — Preview" %}</div>
      <div class="ai-demo__progress" aria-hidden="true">
        <div class="ai-demo__bar"></div>
        <span class="ai-demo__pct">0%</span>
      </div>
    </div>

    <form class="ai-form" autocomplete="off" aria-describedby="ai-status">
      <div class="ai-field">
        <label for="ai-name">{% trans "Full name" %}</label>
        <input id="ai-name" type="text" placeholder="{% trans 'e.g., Ava Jensen' %}" inputmode="text" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-email">{% trans "Email" %}</label>
        <input id="ai-email" type="email" placeholder="name@university.dk" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-uni">{% trans "University" %}</label>
        <input id="ai-uni" type="text" placeholder="{% trans 'Your university' %}" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-degree">{% trans "Degree" %}</label>
        <input id="ai-degree" type="text" placeholder="{% trans 'e.g., BSc International Business, 2026' %}" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-portfolio">{% trans "Portfolio / LinkedIn" %}</label>
        <input id="ai-portfolio" type="url" placeholder="https://…" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field ai-field--textarea">
        <label for="ai-cover">{% trans "Short cover note" %}</label>
        <textarea id="ai-cover" rows="4" placeholder="{% trans 'A few sentences…' %}"></textarea>
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-consent">
        <input id="ai-consent" type="checkbox" />
        <label for="ai-consent">{% trans "I consent to submit this application." %}</label>
      </div>

      <div class="ai-actions">
        <button type="button" class="btn btn--primary ai-submit" disabled>
          {% trans "Apply now" %}
        </button>
        <button type="button" class="btn btn--ghost ai-replay">
          {% trans "Replay" %}
        </button>
      </div>

      <p id="ai-status" class="ai-status" aria-live="polite">
        {% trans "AI is preparing your application…" %}
      </p>
    </form>
  </div>
</div>



</section>

<!-- =========================
      FOOTER
========================= -->
<footer class="site-footer">
  <div class="footer__inner">
    <h3>{% trans "Internstart" %}</h3>
    <p>{% trans "Helping students and graduates connect with top companies and discover career opportunities." %}</p>
    <nav class="footer__links" aria-label="Footer">
      <a href="{% url 'about' %}">{% trans "About" %}</a>
      <a href="#">{% trans "Careers" %}</a>
      <a href="{% url 'contact' %}">{% trans "Contact" %}</a>
      <a href="{% url 'privacy_policy' %}">{% trans "Privacy Policy" %}</a>
    </nav>
    <div class="footer__legal">© 2025 {% trans "Internship Platform. All rights reserved." %}</div>
  </div>
</footer>


<style>
  :root{
    /* Layout */
    --container-max: 1480px;
    --gutter-x: 60px;
    --hero-copy-max: 620px;
    --hero-gap-min: 72px;
    --hero-gap-max: 96px;
  
    /* Cards */
    --card-w: clamp(320px, 28vw, 380px);
    --card-h: 540px;
    --card-pad: 24px;
  
    /* ↓ Closer stack + more “backwards” look */
    --stack-gap: 160px;
    --stack-tilt: -15deg;
  
    /* Action buttons */
    --action-size: 48px;
    --action-gap: 14px;
  
    /* Typography */
    --font: 'Manrope', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    --text: #111;
    --muted: #667085;
    --meta: #6b7280;
    --brand: #FF2F5A;
  }
  
  /* ---------- Base ---------- */
  *{ box-sizing:border-box; }
  body{ font-family: var(--font); color:var(--text); }
  
  /* ---------- Hero ---------- */
  .hero{
    display: grid;
    grid-template-columns: minmax(520px, var(--hero-copy-max)) minmax(0,1fr);
    column-gap: clamp(var(--hero-gap-min), 6vw, var(--hero-gap-max));
    align-items: center;
    min-height: 80vh;
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 40px var(--gutter-x) 0;
  }
  
  .hero__copy{ max-width: var(--hero-copy-max); }
  .hero__title{
    font-size: clamp(48px, 5.4vw, 72px);
    line-height: 1.08;
    letter-spacing: -0.3px;
    font-weight: 800;
    margin: 0;
  }

  .hero__title .accent{
  background-color: #FF2F5A;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  position: relative;
}
.hero__title .accent::after{
  content: none;
}

  .hero__subhead{
    margin-top: 28px;
    font-size: 18px;
    line-height: 1.55;
    color: var(--muted);
    max-width: 58ch;
  }
  .hero__ctas{ margin-top: 24px; display:flex; gap: 18px; }
  
  /* Buttons */
  .btn{
    display:inline-flex; align-items:center; justify-content:center;
    height: 56px; padding: 0 22px;
    border-radius: 12px; font-weight: 700; font-size: 18px;
    text-decoration: none; transition: all .2s ease;
    border: 1px solid transparent;
  }
  .btn--primary{ background: var(--brand); color:#fff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--primary:hover{ transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--ghost{ background:#f5f5f5; color:#111; }
  .btn--ghost:hover{ background:#efefef; }
  
  /* ---------- Deck & Cards ---------- */
  .deck{
    --gap: min(var(--stack-gap), calc((100% - var(--card-w)) / 2));
    position: relative;
    min-height: var(--card-h);
    perspective: 1600px;
  }
  
  .card{
    position: absolute; top:0; left:0;
    width: var(--card-w); height: var(--card-h);
    background:#fff; border-radius: 24px;
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
    transform: translateZ(60px) rotateY(var(--stack-tilt));
    transition: transform .8s ease-in-out, opacity .6s ease;
  }
  
  .card:nth-child(1){
    transform: translateX(0) translateZ(40px) rotateY(-14deg);
    z-index:3;
  }
  .card:nth-child(2){
    transform: translateX(var(--gap)) translateZ(10px) rotateY(-20deg);
    z-index:2;
  }
  .card:nth-child(3){
    transform: translateX(calc(var(--gap)*2)) translateZ(-20px) rotateY(-24deg);
    z-index:1;
  }
  
  html, body { overflow-x: clip; }
  
  /* IMPORTANT: no !important here so animation can override */
  .card:hover{
    transform: translateY(-8px) translateZ(60px) rotateY(-10deg);
  }
  
  .card.swiping{ animation: swipe3D .8s ease forwards; pointer-events:none; }
  
  .card__body{
    height: 100%;
    padding: var(--card-pad);
    display:flex; flex-direction:column; justify-content:space-between; align-items:center;
    text-align:center;
  }
  
  .card__info{ display:flex; flex-direction:column; align-items:center; margin-top: 32px; }
  .card__logo{ max-width: 220px; max-height: 160px; object-fit:contain; margin-bottom: 16px; }
  .card__role{ font-size: 18px; font-weight: 600; color:#4b5563; margin: 8px 0 6px; }
  .card__company{ font-size: 20px; font-weight: 800; color:#2F4858; margin: 2px 0; }
  .card__meta{ font-size: 15px; color: var(--meta); margin: 6px 0 0; }
  
  /* Card colors */
  .card--pink   { background:#FFE7EC; }
  .card--blue   { background:#E7F0FF; }
  .card--yellow { background:#FFF9E6; }
  
  /* Actions */
  .card__actions{ display:flex; gap: var(--action-gap); margin-top:auto; padding-bottom: 22px; }
  .deck .card:not(:first-child) .card__actions{ opacity:0; pointer-events:none; }
  
  /* Action button base */
  .action{
    width: var(--action-size); height: var(--action-size);
    border-radius: 50%; background:#fff; border: none; cursor: default;
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 2px 6px rgba(0,0,0,.12);
    position: relative;
    outline-offset: 2px;
  }
  .action:focus-visible{ outline: 3px solid rgba(59,130,246,.5); }
  
  /* Tooltips */
  .action[data-label]::after{
    content: attr(data-label);
    position:absolute; bottom: -28px; left:50%; transform: translateX(-50%) translateY(4px);
    background:#111; color:#fff; font-size:12px; padding:4px 8px; border-radius:6px;
    white-space:nowrap; opacity:0; pointer-events:none; transition: .18s ease;
  }
  .action:hover::after, .action:focus-visible::after{ opacity:1; transform: translateX(-50%) translateY(0); }
  
  /* Swipe animation */
  @keyframes swipe3D{
    0%   { transform: translateX(0) translateZ(40px) rotateY(-14deg) scale(1); opacity:1; }
    40%  { transform: translateX(60px) translateZ(80px) rotateY(-10deg) scale(1.05); opacity:1; }
    100% { transform: translateX(-520px) translateZ(-40px) rotateY(-26deg) scale(.96); opacity:0; }
  }
  
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    .card, .card:hover{ transition: none !important; animation: none !important; transform: none !important; }
  }
  
  /* ---------- Footer ---------- */
  .site-footer{
    background:#111; color:#bbb; text-align:center; padding:56px 20px; margin-top: 80px;
    font-family: var(--font);
  }
  .footer__inner{ max-width: 1000px; margin: 0 auto; }
  .site-footer h3{ color:#fff; font-weight:600; margin:0 0 16px; }
  .site-footer p{ font-size:16px; line-height:1.6; margin:0 0 24px; color:#cfcfcf; }
  .footer__links a{ color:#bbb; text-decoration:none; margin: 0 14px; }
  .footer__links{ margin-bottom: 28px; }
  .footer__legal{ font-size:14px; color:#777; }
  
  /* ---------- Responsive ---------- */
  @media (max-width: 1279px){
    :root{ --stack-gap: 140px; }
    .hero{ column-gap: clamp(56px, 6vw, 80px); }
    .card__logo{ max-width: 200px; }
  }
  @media (max-width: 1024px){
    .hero{
      grid-template-columns: 1fr;
      row-gap: 24px;
      padding: 32px 28px 0;
    }
    .deck{ margin: 0 auto; }
  }
  @media (max-width: 640px){
    :root{ --card-w: 332px; --card-h: 520px; --stack-gap: 120px; }
    .hero__ctas{ flex-direction: column; gap: 16px; }
  }
  
  @media (max-width: 600px){
  
  /* Trim header so the hero sits higher */
  .header,
  .header .container{
    height: 50px !important;               
    padding-left: 10px !important;
    padding-right: 10px !important;
    margin-bottom: 0 !important;
  }
  .header + .hero{ margin-top: 0 !important; }
  
  /* Narrow page gutters */
  :root{ --gutter-x: 14px; }
  
  /* Compact hero */
  .hero{
    grid-template-columns: 1fr;
    padding: 64px var(--gutter-x) 80px !important; /* added 80px bottom padding */
    row-gap: 16px; 
    min-height: auto;
    flex: 1 0 auto;
    padding-bottom: 120px !important; /* was 80px → adds more gap before footer */

  } 

  .hero__copy{ max-width: 34rem;
    margin-top: 20px; /* adds spacing between title, subhead, and CTAs */
  }
  
  /* Title */
  .hero__title{
    font-size: clamp(40px, 10vw, 54px) !important; /* slightly smaller but still bold */
    line-height: 1.1;
    letter-spacing: -0.6px;
    margin: 0;
  }

  



  .hero__title .accent{
    background-color: #FF2F5A;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    position: relative;
  }
  .hero__title .accent::after{
    content: none;

  }
  
  /* Subhead */
  .hero__subhead {
    margin-top: 14px;
    font-size: 20px !important;   /* bigger than 18px */
    line-height: 1.5;  /* slightly more breathing room */
    color: #4f5b6a;
    max-width: 34ch;   /* a bit wider so the bigger text doesn’t wrap too quickly */
  }
  
  /* CTAs — give more spacing from subhead */
  .hero__ctas{
    margin-top: 28px;   /* increased spacing */
    gap: 12px;          /* more balanced button gap */
    flex-direction: column;
  }
  .btn{
    height: 48px;
    font-size: 17px;
    padding: 0 16px;
    border-radius: 12px;
  }
  .btn--primary{ box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--ghost{
    background:#f3f4f6;
    border: 1px solid #e5e7eb;
  }
  
  /* Hide deck */
  .deck { display: none !important; }
  
  /* Footer stick */
  html, body { height: 100%; }
  body{
    min-height: 100svh;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
  }
  .site-footer{
    margin-top: auto !important;
    padding: 32px 14px;      /* was 22px → more breathing room inside */
  }
  }
  
  /* Ultra small phones ≤380px */
  @media (max-width: 380px) {
    .hero__title {
      font-size: clamp(36px, 4.4vw, 56px); /* smaller and more balanced */
      line-height: 1.1;
      letter-spacing: -0.4px;
      font-weight: 800;
      margin: 0;
      color: #111;
    }
    .hero__subhead { font-size: 15px; }
    .card__logo { max-width: 150px; }
    .action { width: 40px; height: 40px; }
    .action svg { width: 18px; height: 18px; }
  }

  @media (max-width: 600px) {
  .hero__title {
    color: #000000 !important; /* non-span text white on mobile */
  }

  .hero__title .accent {
    background-color: #FF2F5A;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent; /* keeps “Dream Career” pink */
  }
}



html[lang="da"] .hero__title {
  font-size: clamp(40px, 5vw, 64px);
  line-height: 1.1;
  max-width: 700px;
}

html[lang="da"] .hero__subhead {
  font-size: 18px;
  max-width: 600px;
}

.hero__title br {
  display: block;
  content: "";
  margin-bottom: 0.2em;
}


/* ---------- AI Autofill Demo ---------- */
.ai-demo{
  --ai-w: 520px;
  --ai-pad: 16px;
  max-width: var(--ai-w);
  margin: 18px 0 0;
}

@media (max-width:1024px){
  .ai-demo{ margin: 24px auto 0; width: min(100%, var(--ai-w)); }
}

.ai-demo__window{
  border-radius: 16px;
  background: #fff;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
  border: 1px solid #e5e7eb;
  overflow: hidden;
  font-family: var(--font);
}

.ai-demo__chrome{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: linear-gradient(180deg, #f8fafc 0%, #eef2f7 100%);
  border-bottom: 1px solid #e5e7eb;
}

.ai-demo__dots span{
  display:inline-block; width:10px; height:10px; border-radius:50%;
  margin-right:6px; background:#ff5f56;
}
.ai-demo__dots span:nth-child(2){ background:#ffbd2e; }
.ai-demo__dots span:nth-child(3){ background:#27c93f; }

.ai-demo__title{
  font-weight: 700; color:#111; font-size: 14px;
}
.ai-demo__progress{
  display:flex; align-items:center; gap:8px;
}
.ai-demo__bar{
  --pct: 0%;
  width: 120px; height: 8px; border-radius: 999px; background:#e5e7eb; position:relative; overflow:hidden;
}
.ai-demo__bar::after{
  content:""; position:absolute; left:0; top:0; bottom:0; width: var(--pct);
  background: linear-gradient(90deg, #10B981, #3B82F6);
  transition: width .25s ease;
}
.ai-demo__pct{ font-size: 12px; color:#374151; min-width: 32px; text-align:right; }

.ai-form{ padding: 14px var(--ai-pad) 18px; }
.ai-field{
  position:relative; display:flex; flex-direction:column; gap:6px; margin-bottom: 12px;
}
.ai-field label{
  font-size: 12px; color:#6b7280; font-weight:600; letter-spacing:.2px;
}
.ai-field input,
.ai-field textarea{
  width: 100%; padding: 12px 40px 12px 12px;
  font-size: 14px; line-height:1.35; border-radius: 12px;
  border: 1px solid #e5e7eb; background:#fff; color:#111;
  outline: none; transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.ai-field--textarea textarea{ padding-right: 44px; }

.ai-field.is-active input,
.ai-field.is-active textarea{
  border-color: rgba(59,130,246,.6);
  box-shadow: 0 0 0 3px rgba(59,130,246,.15);
}
.ai-field.is-done input,
.ai-field.is-done textarea{
  border-color: rgba(16,185,129,.6);
  box-shadow: 0 0 0 3px rgba(16,185,129,.12);
  background: #f7fffb;
}

.ai-field__check{
  position:absolute; right:10px; top: 29px;
  width: 22px; height: 22px; border-radius: 50%;
  background:#10B981; color:#fff; display:grid; place-items:center;
  font-size: 14px; line-height:1;
  transform: scale(.6); opacity: 0; transition: .18s ease;
}
.ai-field.is-done .ai-field__check{ transform: scale(1); opacity: 1; }

.ai-consent{
  display:flex; gap:10px; align-items:flex-start; margin: 6px 0 10px;
  font-size: 13px; color:#374151;
}
.ai-consent input{ width:18px; height:18px; margin-top:2px; }

.ai-actions{ display:flex; gap: 10px; }
.ai-actions .btn{ height: 48px; font-size: 16px; }
.ai-actions .ai-submit[disabled]{ opacity:.6; cursor:not-allowed; }

.ai-status{
  margin-top: 12px; font-size: 13px; color:#6b7280;
}

/* Reduced Motion: keep UI but skip key animations */
@media (prefers-reduced-motion: reduce){
  .ai-demo__bar::after{ transition: none !important; }
  .ai-field__check{ transition:none !important; }
}


  </style>
  

<script>
document.addEventListener("DOMContentLoaded", () => {
  const deck  = document.querySelector(".deck");
  if (!deck) return;

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  const getGap = () => parseFloat(getComputedStyle(deck).getPropertyValue('--gap')) || 140;

  // Match CSS transforms for each index
  const transformFor = (i, gap) => {
    if (i === 0) return `translateX(0px) translateZ(40px) rotateY(-14deg)`;
    if (i === 1) return `translateX(${gap}px) translateZ(10px) rotateY(-20deg)`;
    return `translateX(${i * gap}px) translateZ(-20px) rotateY(-24deg)`; // i >= 2
  };

  const reorder = () => {
    const cards = deck.querySelectorAll(".card");
    const gap   = getGap();
    cards.forEach((card, i) => {
      card.style.zIndex = cards.length - i;         // 1 = back, higher = front
      card.style.transition = "transform .3s ease-out";
      card.style.transform  = transformFor(i, gap);
      setTimeout(() => {
        card.style.transition = "transform .8s ease-in-out, opacity .6s ease";
      }, 300);
    });
  };

  // Autoplay loop with FADE-IN reinsert (every 2s)
  let isAnimating = false;
  const delayBetweenSwipes = 2000;

  const swipeNext = () => {
    if (prefersReduced || isAnimating) return;
    const first = deck.querySelector(".card");
    if (!first) return;

    isAnimating = true;

    // Make absolutely sure the swiping card sits on top of the stack while animating
    first.style.zIndex = 999;

    // Trigger the swipe animation
    first.classList.add("swiping");

    first.addEventListener("animationend", () => {
      // Ensure it's invisible before DOM move to avoid any flash on top
      first.style.opacity = "0";

      // Move swiped card to end of DOM
      deck.appendChild(first);
      first.classList.remove("swiping");

      const cards = deck.querySelectorAll(".card");
      const gap   = getGap();
      const lastIndex = cards.length - 1;

      // Place appended card at the BACK immediately, invisible
      first.style.transition = "none";
      first.style.zIndex = cards.length - lastIndex;   // lowest z-index (back)
      first.style.transform = transformFor(lastIndex, gap);

      // Update other cards positions/z-indices smoothly
      cards.forEach((card, i) => {
        if (card === first) return;
        card.style.zIndex = cards.length - i;
        card.style.transition = "transform .3s ease-out";
        card.style.transform = transformFor(i, gap);
      });

      // Fade the appended card in, already at the back
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          first.style.transition = "opacity .35s ease";
          first.style.opacity = "1";

          // Restore defaults and continue loop
          setTimeout(() => {
            first.style.transition = "transform .8s ease-in-out, opacity .6s ease";
            cards.forEach(card => {
              if (card !== first) card.style.transition = "transform .8s ease-in-out, opacity .6s ease";
            });
            isAnimating = false;
            setTimeout(swipeNext, delayBetweenSwipes);
          }, 380);
        });
      });
    }, { once: true });
  };

  // Kick things off
  reorder();
  if (!prefersReduced) setTimeout(swipeNext, delayBetweenSwipes);

  // Keep layout correct on resize
  window.addEventListener('resize', reorder);

  // Pause/resume when tab visibility changes
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      isAnimating = true;
    } else {
      isAnimating = false;
      reorder();
      if (!prefersReduced) setTimeout(swipeNext, delayBetweenSwipes);
    }
  });
});
</script>


<script>
  (() => {
    const onReady = (fn) => {
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', fn, { once: true });
      } else { fn(); }
    };
  
    onReady(() => {
      const root      = document.querySelector('.ai-demo');
      if (!root) return;
  
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  
      const fields = {
        name:      document.getElementById('ai-name'),
        email:     document.getElementById('ai-email'),
        uni:       document.getElementById('ai-uni'),
        degree:    document.getElementById('ai-degree'),
        portfolio: document.getElementById('ai-portfolio'),
        cover:     document.getElementById('ai-cover'),
        consent:   document.getElementById('ai-consent'),
      };
  
      const fieldWrap = (el) => el?.closest('.ai-field');
  
      const progressBar = root.querySelector('.ai-demo__bar');
      const progressPct = root.querySelector('.ai-demo__pct');
      const statusText  = root.querySelector('#ai-status');
      const btnSubmit   = root.querySelector('.ai-submit');
      const btnReplay   = root.querySelector('.ai-replay');
  
      // Scripted content
      const steps = [
        { el: fields.name,      text: 'Ava Jensen' },
        { el: fields.email,     text: 'ava.jensen@uni.dk' },
        { el: fields.uni,       text: 'Copenhagen Business School (CBS)' },
        { el: fields.degree,    text: 'BSc International Business, 2026' },
        { el: fields.portfolio, text: 'https://ava.work' },
        { el: fields.cover,     text:
          "I’m excited to apply for the Investment Banking Intern role. At CBS Finance Club, I led a 4-member team on DCF/LBO case prep and placed top 3 in a regional valuation challenge. I’m comfortable with Excel, PowerPoint, and Bloomberg, and I’m eager to contribute from day one."
        },
        { el: fields.consent,   check: true }
      ];
  
      const totalChars = steps.reduce((n,s) => n + (s.text ? s.text.length : 0), 0) || 1;
      let typedChars   = 0, isRunning = false;
  
      const setProgress = (val) => {
        const pct = Math.min(100, Math.round(val));
        progressBar.style.setProperty('--pct', pct + '%');
        progressPct.textContent = pct + '%';
      };
  
      const typeInto = (el, text, speed = 22) => new Promise((resolve) => {
        // For reduced motion, dump instantly.
        if (prefersReduced) {
          el.value = text;
          resolve();
          return;
        }
        let i = 0;
        el.value = '';
        const tick = () => {
          if (i > text.length) return resolve();
          el.value = text.slice(0, i);
          typedChars += (i === 0 ? 0 : 1);
          setProgress((typedChars / totalChars) * 100);
          i++;
          setTimeout(tick, speed + Math.random() * 18);
        };
        tick();
      });
  
      const checkField = (el) => {
        const wrap = fieldWrap(el);
        wrap?.classList.remove('is-active');
        wrap?.classList.add('is-done');
      };
  
      const focusField = (el) => {
        const wrap = fieldWrap(el);
        root.querySelectorAll('.ai-field').forEach(w => w.classList.remove('is-active'));
        wrap?.classList.add('is-active');
        el?.focus();
        el?.scrollIntoView?.({ block: 'nearest', behavior: prefersReduced ? 'auto' : 'smooth' });
      };
  
      const run = async () => {
        if (isRunning) return;
        isRunning = true;
  
        // Reset UI
        Object.values(fields).forEach((el) => {
          if (!el) return;
          if (el.type === 'checkbox') el.checked = false;
          else el.value = '';
          const wrap = fieldWrap(el);
          wrap?.classList.remove('is-active', 'is-done');
        });
        btnSubmit.disabled = true;
        typedChars = 0; setProgress(0);
        statusText.textContent = "{% trans 'AI is preparing your application…' %}";
  
        // Walk through steps
        for (const step of steps) {
          if (!step.el) continue;
          focusField(step.el);
          statusText.textContent = "{% trans 'Filling' %} " + (step.el.labels?.[0]?.innerText || '') + "…";
  
          if (step.check) {
            // consent checkbox
            if (prefersReduced) {
              step.el.checked = true;
            } else {
              // tiny delay to feel intentional
              await new Promise(r => setTimeout(r, 300));
              step.el.checked = true;
              await new Promise(r => setTimeout(r, 200));
            }
            checkField(step.el);
            continue;
          }
  
          await typeInto(step.el, step.text);
          checkField(step.el);
  
          // small pause between fields
          await new Promise(r => setTimeout(r, prefersReduced ? 40 : 180));
        }
  
        setProgress(100);
        btnSubmit.disabled = false;
        statusText.textContent = "{{ _('Ready to submit — optimized by AI.') if False else 'Ready to submit — optimized by AI.' }}";
  
        // subtle button pulse
        if (!prefersReduced) {
          btnSubmit.animate(
            [{ transform:'scale(1)' }, { transform:'scale(1.04)' }, { transform:'scale(1)' }],
            { duration: 600, easing: 'ease', iterations: 1 }
          );
        }
  
        isRunning = false;
      };
  
      btnReplay?.addEventListener('click', run);
      // Auto-start once when in view
      const startOnce = () => { run(); observer.disconnect(); };
      const observer = new IntersectionObserver((entries) => {
        if (entries.some(e => e.isIntersecting)) startOnce();
      }, { threshold: .35 });
      observer.observe(root);
    });
  })();
  </script>
  

{% endblock content %}




