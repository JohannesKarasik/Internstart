{% extends 'main.html' %}
{% load static %}
{% load i18n %}
{% block content %}

<!-- Google Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">

<!-- =========================
      HERO
========================= -->
<section class="hero">
  <div class="hero__copy">
    <h1 class="hero__title">
      {% blocktrans trimmed %}Apply to <span class="accent">200+ jobs</span> in minutes<br>powered by <span class="accent">AI</span>{% endblocktrans %}
    </h1>
  
    <p class="hero__subhead">
      {% trans "Internstart finds the right opportunities, fills out applications, and sends them for you. Land interviews faster without the endless forms." %}
    </p>
  
    <div class="hero__ctas">
      <a href="{% url 'register' %}" class="btn btn--primary">
        {% trans "Start applying to jobs with AI" %}
      </a>
      <a href="{% url 'app_login' %}" class="btn btn--ghost" style="box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;">{% trans "Login" %}</a>
    </div>
  </div>
  

  <!-- Card deck -->
  <div class="deck" aria-label="Featured internships">
    <!-- Card 1 -->
    <article class="card card--pink">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/Goldman-Sachs-1869.png' %}" alt="Goldman Sachs logo" class="card__logo">
          <h4 class="card__role">Investment Banking Intern</h4>
          <h3 class="card__company">Goldman Sachs</h3>
          <p class="card__meta">Location: New York, NY</p>
        </div>

        <div class="card__actions" aria-label="Card actions">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>

    <!-- Card 2 -->
    <article class="card card--blue">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/danske-bank.png' %}" alt="Danske Bank logo" class="card__logo">
          <h4 class="card__role">Corporate Finance Intern</h4>
          <h3 class="card__company">Danske Bank</h3>
          <p class="card__meta">Location: Copenhagen, Denmark</p>
        </div>
        <div class="card__actions" aria-hidden="true">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>

    <!-- Card 3 -->
    <article class="card card--yellow">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/deutsche-bank.png' %}" alt="Deutsche Bank logo" class="card__logo">
          <h4 class="card__role">Global Markets Intern</h4>
          <h3 class="card__company">Deutsche Bank</h3>
          <p class="card__meta">Location: Frankfurt, Germany</p>
        </div>
        <div class="card__actions" aria-hidden="true">
          <button class="action" aria-label="Undo last swipe" data-label="Undo" title="Undo (U)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
          </button>
          <button class="action" aria-label="Pass on this job" data-label="Pass" title="Pass (←)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          </button>
          <button class="action" aria-label="Save for later" data-label="Save" title="Save (S)">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15 8.5 22 9.3 17 14 18.2 21 12 17.7 5.8 21 7 14 2 9.3 9 8.5 12 2"/></svg>
          </button>
          <button class="action" aria-label="Apply to this job" data-label="Apply" title="Apply (Enter)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
          <button class="action" aria-label="Boost visibility" data-label="Boost" title="Boost">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
          </button>
        </div>
      </div>
    </article>
  </div>


  <!-- Tinder-style Swipe Demo -->
<div class="tinder-section" aria-label="{% trans 'Automatic swipe demo' %}">
  <div class="tinder-deck" data-autoplay="true">
    <!-- T-Card 1 -->
    <article class="card card--pink">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/Goldman-Sachs-1869.png' %}" alt="Goldman Sachs logo" class="card__logo">
          <h4 class="card__role">{% trans "Investment Banking Intern" %}</h4>
          <h3 class="card__company">Goldman Sachs</h3>
          <p class="card__meta">{% trans "Location: New York, NY" %}</p>
        </div>
        <div class="card__actions" aria-label="{% trans 'Card actions' %}">
          <button type="button" class="action action--dismiss" aria-label="{% trans 'Dismiss' %}">
            {% trans "Dismiss" %}
          </button>
          <button type="button" class="action action--apply" aria-label="{% trans 'Apply' %}">
            {% trans "Apply" %}
          </button>
        </div>
      </div>
    </article>

    <!-- T-Card 2 -->
    <article class="card card--blue">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/danske-bank.png' %}" alt="Danske Bank logo" class="card__logo">
          <h4 class="card__role">{% trans "Corporate Finance Intern" %}</h4>
          <h3 class="card__company">Danske Bank</h3>
          <p class="card__meta">{% trans "Location: Copenhagen, Denmark" %}</p>
        </div>
        <div class="card__actions" aria-label="{% trans 'Card actions' %}">
          <button type="button" class="action action--dismiss" aria-label="{% trans 'Dismiss' %}">
            {% trans "Dismiss" %}
          </button>
          <button type="button" class="action action--apply" aria-label="{% trans 'Apply' %}">
            {% trans "Apply" %}
          </button>
        </div>
      </div>
    </article>

    <!-- T-Card 3 -->
    <article class="card card--yellow">
      <div class="card__body">
        <div class="card__info">
          <img src="{% static 'images/deutsche-bank.png' %}" alt="Deutsche Bank logo" class="card__logo">
          <h4 class="card__role">{% trans "Global Markets Intern" %}</h4>
          <h3 class="card__company">Deutsche Bank</h3>
          <p class="card__meta">{% trans "Location: Frankfurt, Germany" %}</p>
        </div>
        <div class="card__actions" aria-label="{% trans 'Card actions' %}">
          <button type="button" class="action action--dismiss" aria-label="{% trans 'Dismiss' %}">
            {% trans "Dismiss" %}
          </button>
          <button type="button" class="action action--apply" aria-label="{% trans 'Apply' %}">
            {% trans "Apply" %}
          </button>
        </div>
      </div>
    </article>
  </div>
</div>



  <!-- AI Autofill Demo -->
<div class="ai-demo" role="region" aria-label="AI auto-filling a job application">
  <div class="ai-demo__window">
    <div class="ai-demo__chrome">
      <div class="ai-demo__dots" aria-hidden="true">
        <span></span><span></span><span></span>
      </div>
      <div class="ai-demo__title">{% trans "Job Application — Preview" %}</div>
      <div class="ai-demo__progress" aria-hidden="true">
        <div class="ai-demo__bar"></div>
        <span class="ai-demo__pct">0%</span>
      </div>
    </div>

    <form class="ai-form" autocomplete="off" aria-describedby="ai-status">
      <div class="ai-field">
        <label for="ai-name">{% trans "Full name" %}</label>
        <input id="ai-name" type="text" placeholder="{% trans 'e.g., Ava Jensen' %}" inputmode="text" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-email">{% trans "Email" %}</label>
        <input id="ai-email" type="email" placeholder="name@university.dk" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field">
        <label for="ai-portfolio">{% trans "Portfolio / LinkedIn" %}</label>
        <input id="ai-portfolio" type="url" placeholder="https://…" />
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-field ai-field--file">
        <label for="ai-resume">{% trans "Resume" %}</label>
        <input id="ai-resume" type="file" accept=".pdf,.doc,.docx,.rtf" hidden>
        
        <div class="ai-file">
          <button type="button" class="ai-file__btn">{% trans "Attach resume" %}</button>
          <span class="ai-file__name" data-empty="{% trans 'No file selected' %}">
            {% trans "No file selected" %}
          </span>
        </div>
      
        <div class="ai-upload" aria-hidden="true">
          <div class="ai-upload__bar"></div>
        </div>
      
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>
      

      <div class="ai-field ai-field--textarea">
        <label for="ai-cover">{% trans "Short cover note" %}</label>
        <textarea id="ai-cover" rows="4" placeholder="{% trans 'A few sentences…' %}"></textarea>
        <div class="ai-field__check" aria-hidden="true">✓</div>
      </div>

      <div class="ai-consent">
        <input id="ai-consent" type="checkbox" />
        <label for="ai-consent">{% trans "I consent to submit this application." %}</label>
      </div>

      <div class="ai-actions">
        <button type="button" class="btn btn--primary ai-submit" disabled>
          {% trans "Apply now" %}
        </button>
        <button type="button" class="btn btn--ghost ai-replay">
          {% trans "Replay" %}
        </button>
      </div>

      <p id="ai-status" class="ai-status" aria-live="polite">
        {% trans "AI is preparing your application…" %}
      </p>
    </form>
    
  </div>
</div>



</section>

<!-- =========================
      FOOTER
========================= -->
<footer class="site-footer">
  <div class="footer__inner">
    <h3>{% trans "Internstart" %}</h3>
    <p>{% trans "Helping students and graduates connect with top companies and discover career opportunities." %}</p>
    <nav class="footer__links" aria-label="Footer">
      <a href="{% url 'about' %}">{% trans "About" %}</a>
      <a href="#">{% trans "Careers" %}</a>
      <a href="{% url 'contact' %}">{% trans "Contact" %}</a>
      <a href="{% url 'privacy_policy' %}">{% trans "Privacy Policy" %}</a>
    </nav>
    <div class="footer__legal">© 2025 {% trans "Internship Platform. All rights reserved." %}</div>
  </div>
</footer>


<style>
  :root{
    /* Layout */
    --container-max: 1480px;
    --gutter-x: 60px;
    --hero-copy-max: 620px;
    --hero-gap-min: 72px;
    --hero-gap-max: 96px;
  
    /* Cards */
    --card-w: clamp(320px, 28vw, 380px);
    --card-h: 540px;
    --card-pad: 24px;
  
    /* ↓ Closer stack + more “backwards” look */
    --stack-gap: 160px;
    --stack-tilt: -15deg;
  
    /* Action buttons */
    --action-size: 48px;
    --action-gap: 14px;
  
    /* Typography */
    --font: 'Manrope', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    --text: #111;
    --muted: #667085;
    --meta: #6b7280;
    --brand: #FF2F5A;
  }
  
  /* ---------- Base ---------- */
  *{ box-sizing:border-box; }
  body{ font-family: var(--font); color:var(--text); }
  
  /* ---------- Hero ---------- */
  .hero{
    display: grid;
    grid-template-columns: minmax(520px, var(--hero-copy-max)) minmax(0,1fr);
    column-gap: clamp(var(--hero-gap-min), 6vw, var(--hero-gap-max));
    align-items: center;
    min-height: 80vh;
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 40px var(--gutter-x) 0;
  }
  
  .hero__copy{ max-width: var(--hero-copy-max); }
  .hero__title{
    font-size: clamp(48px, 5.4vw, 72px);
    line-height: 1.08;
    letter-spacing: -0.3px;
    font-weight: 800;
    margin: 0;
  }

  .hero__title .accent{
  background-color: #FF2F5A;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  position: relative;
}
.hero__title .accent::after{
  content: none;
}

  .hero__subhead{
    margin-top: 28px;
    font-size: 18px;
    line-height: 1.55;
    color: var(--muted);
    max-width: 58ch;
  }
  .hero__ctas{ margin-top: 24px; display:flex; gap: 18px; }
  
  /* Buttons */
  .btn{
    display:inline-flex; align-items:center; justify-content:center;
    height: 56px; padding: 0 22px;
    border-radius: 12px; font-weight: 700; font-size: 18px;
    text-decoration: none; transition: all .2s ease;
    border: 1px solid transparent;
  }
  .btn--primary{ background: var(--brand); color:#fff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--primary:hover{ transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--ghost{ background:#f5f5f5; color:#111; }
  .btn--ghost:hover{ background:#efefef; }
  
  /* ---------- Deck & Cards ---------- */
  .deck{
    --gap: min(var(--stack-gap), calc((100% - var(--card-w)) / 2));
    position: relative;
    min-height: var(--card-h);
    perspective: 1600px;
  }
  
  .card{
    position: absolute; top:0; left:0;
    width: var(--card-w); height: var(--card-h);
    background:#fff; border-radius: 24px;
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
    transform: translateZ(60px) rotateY(var(--stack-tilt));
    transition: transform .8s ease-in-out, opacity .6s ease;
  }
  
  .card:nth-child(1){
    transform: translateX(0) translateZ(40px) rotateY(-14deg);
    z-index:3;
  }
  .card:nth-child(2){
    transform: translateX(var(--gap)) translateZ(10px) rotateY(-20deg);
    z-index:2;
  }
  .card:nth-child(3){
    transform: translateX(calc(var(--gap)*2)) translateZ(-20px) rotateY(-24deg);
    z-index:1;
  }
  
  html, body { overflow-x: clip; }
  
  /* IMPORTANT: no !important here so animation can override */
  .card:hover{
    transform: translateY(-8px) translateZ(60px) rotateY(-10deg);
  }
  
  .card.swiping{ animation: swipe3D .8s ease forwards; pointer-events:none; }
  
  .card__body{
    height: 100%;
    padding: var(--card-pad);
    display:flex; flex-direction:column; justify-content:space-between; align-items:center;
    text-align:center;
  }
  
  .card__info{ display:flex; flex-direction:column; align-items:center; margin-top: 32px; }
  .card__logo{ max-width: 220px; max-height: 160px; object-fit:contain; margin-bottom: 16px; }
  .card__role{ font-size: 18px; font-weight: 600; color:#4b5563; margin: 8px 0 6px; }
  .card__company{ font-size: 20px; font-weight: 800; color:#2F4858; margin: 2px 0; }
  .card__meta{ font-size: 15px; color: var(--meta); margin: 6px 0 0; }
  
  /* Card colors */
  .card--pink   { background:#FFE7EC; }
  .card--blue   { background:#E7F0FF; }
  .card--yellow { background:#FFF9E6; }
  
  /* Actions */
  .card__actions{ display:flex; gap: var(--action-gap); margin-top:auto; padding-bottom: 22px; }
  .deck .card:not(:first-child) .card__actions{ opacity:0; pointer-events:none; }
  
  /* Action button base */
  .action{
    width: var(--action-size); height: var(--action-size);
    border-radius: 50%; background:#fff; border: none; cursor: default;
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 2px 6px rgba(0,0,0,.12);
    position: relative;
    outline-offset: 2px;
  }
  .action:focus-visible{ outline: 3px solid rgba(59,130,246,.5); }
  
  /* Tooltips */
  .action[data-label]::after{
    content: attr(data-label);
    position:absolute; bottom: -28px; left:50%; transform: translateX(-50%) translateY(4px);
    background:#111; color:#fff; font-size:12px; padding:4px 8px; border-radius:6px;
    white-space:nowrap; opacity:0; pointer-events:none; transition: .18s ease;
  }
  .action:hover::after, .action:focus-visible::after{ opacity:1; transform: translateX(-50%) translateY(0); }
  
  /* Swipe animation */
  @keyframes swipe3D{
    0%   { transform: translateX(0) translateZ(40px) rotateY(-14deg) scale(1); opacity:1; }
    40%  { transform: translateX(60px) translateZ(80px) rotateY(-10deg) scale(1.05); opacity:1; }
    100% { transform: translateX(-520px) translateZ(-40px) rotateY(-26deg) scale(.96); opacity:0; }
  }
  
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    .card, .card:hover{ transition: none !important; animation: none !important; transform: none !important; }
  }
  
  /* ---------- Footer ---------- */
  .site-footer{
    background:#111; color:#bbb; text-align:center; padding:56px 20px; margin-top: 80px;
    font-family: var(--font);
  }
  .footer__inner{ max-width: 1000px; margin: 0 auto; }
  .site-footer h3{ color:#fff; font-weight:600; margin:0 0 16px; }
  .site-footer p{ font-size:16px; line-height:1.6; margin:0 0 24px; color:#cfcfcf; }
  .footer__links a{ color:#bbb; text-decoration:none; margin: 0 14px; }
  .footer__links{ margin-bottom: 28px; }
  .footer__legal{ font-size:14px; color:#777; }
  
  /* ---------- Responsive ---------- */
  @media (max-width: 1279px){
    :root{ --stack-gap: 140px; }
    .hero{ column-gap: clamp(56px, 6vw, 80px); }
    .card__logo{ max-width: 200px; }
  }
  @media (max-width: 1024px){
    .hero{
      grid-template-columns: 1fr;
      row-gap: 24px;
      padding: 32px 28px 0;
    }
    .deck{ margin: 0 auto; }
  }
  @media (max-width: 640px){
    :root{ --card-w: 332px; --card-h: 520px; --stack-gap: 120px; }
    .hero__ctas{ flex-direction: column; gap: 16px; }
  }
  
  @media (max-width: 600px){
  
  /* Trim header so the hero sits higher */
  .header,
  .header .container{
    height: 50px !important;               
    padding-left: 10px !important;
    padding-right: 10px !important;
    margin-bottom: 0 !important;
  }
  .header + .hero{ margin-top: 0 !important; }
  
  /* Narrow page gutters */
  :root{ --gutter-x: 14px; }
  
  /* Compact hero */
  .hero{
    grid-template-columns: 1fr;
    padding: 64px var(--gutter-x) 80px !important; /* added 80px bottom padding */
    row-gap: 16px; 
    min-height: auto;
    flex: 1 0 auto;
    padding-bottom: 120px !important; /* was 80px → adds more gap before footer */

  } 

  .hero__copy{ max-width: 34rem;
    margin-top: 20px; /* adds spacing between title, subhead, and CTAs */
  }
  
  /* Title */
  .hero__title{
    font-size: clamp(40px, 10vw, 54px) !important; /* slightly smaller but still bold */
    line-height: 1.1;
    letter-spacing: -0.6px;
    margin: 0;
  }

  



  .hero__title .accent{
    background-color: #FF2F5A;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    position: relative;
  }
  .hero__title .accent::after{
    content: none;

  }
  
  /* Subhead */
  .hero__subhead {
    margin-top: 14px;
    font-size: 20px !important;   /* bigger than 18px */
    line-height: 1.5;  /* slightly more breathing room */
    color: #4f5b6a;
    max-width: 34ch;   /* a bit wider so the bigger text doesn’t wrap too quickly */
  }
  
  /* CTAs — give more spacing from subhead */
  .hero__ctas{
    margin-top: 28px;   /* increased spacing */
    gap: 12px;          /* more balanced button gap */
    flex-direction: column;
  }
  .btn{
    height: 48px;
    font-size: 17px;
    padding: 0 16px;
    border-radius: 12px;
  }
  .btn--primary{ box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
  .btn--ghost{
    background:#f3f4f6;
    border: 1px solid #e5e7eb;
  }
  
  /* Hide deck */
  .deck { display: none !important; }
  
  /* Footer stick */
  html, body { height: 100%; }
  body{
    min-height: 100svh;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
  }
  .site-footer{
    margin-top: auto !important;
    padding: 32px 14px;      /* was 22px → more breathing room inside */
  }
  }
  
  /* Ultra small phones ≤380px */
  @media (max-width: 380px) {
    .hero__title {
      font-size: clamp(36px, 4.4vw, 56px); /* smaller and more balanced */
      line-height: 1.1;
      letter-spacing: -0.4px;
      font-weight: 800;
      margin: 0;
      color: #111;
    }
    .hero__subhead { font-size: 15px; }
    .card__logo { max-width: 150px; }
    .action { width: 40px; height: 40px; }
    .action svg { width: 18px; height: 18px; }
  }

  @media (max-width: 600px) {
  .hero__title {
    color: #000000 !important; /* non-span text white on mobile */
  }

  .hero__title .accent {
    background-color: #FF2F5A;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent; /* keeps “Dream Career” pink */
  }
}



html[lang="da"] .hero__title {
  font-size: clamp(40px, 5vw, 64px);
  line-height: 1.1;
  max-width: 700px;
}

html[lang="da"] .hero__subhead {
  font-size: 18px;
  max-width: 600px;
}

.hero__title br {
  display: block;
  content: "";
  margin-bottom: 0.2em;
}


/* ---------- AI Autofill Demo ---------- */
.ai-demo{
  --ai-w: 520px;
  --ai-pad: 16px;
  max-width: var(--ai-w);
  margin: 18px 0 0;
}

@media (max-width:1024px){
  .ai-demo{ margin: 24px auto 0; width: min(100%, var(--ai-w)); }
}

.ai-demo__window{
  border-radius: 16px;
  background: #fff;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
  border: 1px solid #e5e7eb;
  overflow: hidden;
  font-family: var(--font);
}

.ai-demo__chrome{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 8px;              /* was 10px */
  padding: 8px 10px;     /* was 10px 12px */
  background: linear-gradient(180deg, #f8fafc 0%, #eef2f7 100%);
  border-bottom: 1px solid #e5e7eb;
}

.ai-demo__dots span{
  display:inline-block; width:10px; height:10px; border-radius:50%;
  margin-right:6px; background:#ff5f56;
}
.ai-demo__dots span:nth-child(2){ background:#ffbd2e; }
.ai-demo__dots span:nth-child(3){ background:#27c93f; }

.ai-demo__title{
  font-weight: 700; color:#111; font-size: 14px;
}
.ai-demo__progress{
  display:flex; align-items:center; gap:8px;
}
.ai-demo__bar{
  --pct: 0%;
  width: 96px;           /* was 120px */
  height: 6px;           /* was 8px */
  border-radius: 999px;
  background:#e5e7eb;
  position:relative;
  overflow:hidden;
}

.ai-demo__bar::after{
  content:""; position:absolute; left:0; top:0; bottom:0; width: var(--pct);
  background: linear-gradient(90deg, #10B981, #3B82F6);
  transition: width .25s ease;
}
.ai-demo__pct{ font-size: 11px; color:#374151; min-width: 32px; text-align:right; }

.ai-form{ padding: 14px var(--ai-pad) 18px; }
.ai-field{
  position:relative; display:flex; flex-direction:column; gap:6px; margin-bottom: 12px;
}
.ai-field label{
  font-size: 12px; color:#6b7280; font-weight:600; letter-spacing:.2px;
}
.ai-field input,
.ai-field textarea{
  width: 100%; padding: 12px 40px 12px 12px;
  font-size: 14px; line-height:1.35; border-radius: 12px;
  border: 1px solid #e5e7eb; background:#fff; color:#111;
  outline: none; transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.ai-field--textarea textarea{ padding-right: 44px; }

.ai-field.is-active input,
.ai-field.is-active textarea{
  border-color: rgba(59,130,246,.6);
  box-shadow: 0 0 0 3px rgba(59,130,246,.15);
}
.ai-field.is-done input,
.ai-field.is-done textarea{
  border-color: rgba(16,185,129,.6);
  box-shadow: 0 0 0 3px rgba(16,185,129,.12);
  background: #f7fffb;
}

.ai-field__check{
  position:absolute; right:10px; top: 29px;
  width: 22px; height: 22px; border-radius: 50%;
  background:#10B981; color:#fff; display:grid; place-items:center;
  font-size: 14px; line-height:1;
  transform: scale(.6); opacity: 0; transition: .18s ease;
}
.ai-field.is-done .ai-field__check{ transform: scale(1); opacity: 1; }

.ai-consent{
  display:flex; gap:10px; align-items:flex-start; margin: 6px 0 10px;
  font-size: 13px; color:#374151;
}
.ai-consent input{ width:18px; height:18px; margin-top:2px; }

.ai-actions{ display:flex; gap: 10px; }
.ai-actions .btn{ height: 48px; font-size: 16px; }
.ai-actions .ai-submit[disabled]{ opacity:.6; cursor:not-allowed; }

.ai-status{
  margin-top: 12px; font-size: 13px; color:#6b7280;
}

/* ---- Resume / file attach ---- */
.ai-field--file .ai-file{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.ai-file__btn{
  height: 36px; padding: 0 14px; border-radius: 10px;
  background:#fff; border:1.5px solid #e5e7eb; color:#111; font-weight:700; font-size:13px;
  box-shadow: 0 1px 3px rgba(0,0,0,.08);
  transition: transform .15s ease, background .15s ease, border-color .15s ease;
}
.ai-file__btn:hover{ background:#f8fafc; transform: translateY(-1px); }
.ai-file__btn.is-pressed{
  transform: scale(.97);
  background:#ECFDF5; border-color:#A7F3D0; color:#059669;
  box-shadow: inset 0 2px 0 rgba(0,0,0,.02), 0 1px 2px rgba(0,0,0,.06);
}

.ai-file__name{
  flex:1; text-align:right; font-size:13px; color:#6b7280; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

.ai-upload{
  --up: 0%;
  height:6px; border-radius:999px; background:#eef2f7; overflow:hidden; margin-top:8px;
  opacity:0; transition: opacity .2s ease;
}
.ai-upload.is-visible{ opacity:1; }
.ai-upload__bar{
  width: var(--up); height:100%;
  background: linear-gradient(90deg,#10B981,#3B82F6);
  transition: width .08s linear; /* snappy while “uploading” */
}


/* Reduced Motion: keep UI but skip key animations */
@media (prefers-reduced-motion: reduce){
  .ai-demo__bar::after{ transition: none !important; }
  .ai-field__check{ transition:none !important; }
}

/* ---------- Tinder-style demo (one visible + queued preview) ---------- */
.tinder-section{
  margin-top: 28px;
}

.tinder-deck{
  position: relative;
  width: var(--card-w);
  min-height: var(--card-h);
  margin: 0 auto;
  perspective: 1200px; /* subtle depth, no tilt */
}

/* Base card: centered stack */
.tinder-deck .card{
  position: absolute;
  top: 0;
  left: 50%;
  width: var(--card-w);
  height: var(--card-h);
  transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);
  opacity: 0;
  pointer-events: none;
  transition: transform .6s ease, opacity .35s ease, filter .35s ease;
  border-radius: 24px;
  box-shadow: 0 18px 40px rgba(0,0,0,.18);
}

/* Top card: fully visible & interactive */
.tinder-deck .card.is-top{
  opacity: 1;
  pointer-events: auto;
  z-index: 3;
  transform: translateX(-50%) translateY(0) scale(1);
  filter: none;
}

.tinder-deck .card.is-next{
  opacity: 1;                         /* was .14 */
  z-index: 2;
  transform: translateX(-50%) translateY(12px) scale(.992); /* subtle peek */
  filter: none;                       /* remove saturation/blur effects */
  pointer-events: none;               /* still not clickable */
  box-shadow: 0 14px 32px rgba(0,0,0,.14); /* slightly lighter than top */
}
/* All other cards fully hidden */
.tinder-deck .card:not(.is-top):not(.is-next){
  opacity: 0;
  z-index: 1;
}

/* Hide actions on non-top cards */
.tinder-deck .card:not(.is-top) .card__actions{
  opacity: 0; pointer-events: none;
}

/* Swipe keyframes: left then right */
@keyframes tSwipeLeft {
  0%   { transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);   opacity:1; }
  40%  { transform: translateX(calc(-50% - 60px)) rotate(-4deg) scale(1.02); opacity:1; }
  100% { transform: translateX(calc(-50% - 640px)) rotate(-10deg) scale(.98); opacity:0; }
}
@keyframes tSwipeRight {
  0%   { transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);   opacity:1; }
  40%  { transform: translateX(calc(-50% + 60px)) rotate(4deg)  scale(1.02); opacity:1; }
  100% { transform: translateX(calc(-50% + 640px)) rotate(10deg) scale(.98); opacity:0; }
}

/* Helpers to trigger those keyframes */
.tinder-deck .card.swipe-left  { animation: tSwipeLeft  1.8s ease forwards; }  /* was .9s */
.tinder-deck .card.swipe-right { animation: tSwipeRight 1.8s ease forwards; }

/* Reduced motion: keep static, no autoplay */
@media (prefers-reduced-motion: reduce){
  .tinder-deck .card{ animation: none !important; transition: none !important; }
}


/* Text buttons for Tinder demo (left = Dismiss, right = Apply) */
.tinder-deck .card__actions{
  display:flex; gap: var(--action-gap); justify-content:center;
  margin-top:auto; padding-bottom:22px;
}

.tinder-deck .action{
  height: 44px; min-width: 116px; padding: 0 16px;
  border-radius: 999px;
  background:#fff;
  border: 1.5px solid #e5e7eb;
  box-shadow: 0 2px 6px rgba(0,0,0,.12);
  font-weight: 800; font-size: 14px; letter-spacing:.2px;
  color:#111;
  cursor: default; /* this demo is autoplay; change to pointer if you wire clicks */
  transition: transform .15s ease, background .15s ease, border-color .15s ease;
}

.tinder-deck .action:focus-visible{
  outline: 3px solid rgba(59,130,246,.45);
  outline-offset: 2px;
}

/* Dismiss (left) */
.tinder-deck .action--dismiss{
  color:#EF4444;
  border-color:#FECACA;
  background:#fff;
}
.tinder-deck .action--dismiss:hover{
  background:#FFF1F2; transform: translateY(-1px);
}

/* Apply (right) */
.tinder-deck .action--apply{
  color:#10B981;
  border-color:#A7F3D0;
  background:#fff;
}
.tinder-deck .action--apply:hover{
  background:#ECFDF5; transform: translateY(-1px);
}

/* Hide actions on non-top cards (keeps demo clean) */
.tinder-deck .card:not(.is-top) .card__actions{ opacity:0; pointer-events:none; }


/* --- no-tilt swipe: replace keyframes so they only translate X --- */
@keyframes tSwipeLeft {
  0%   { transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);   opacity:1; }
  100% { transform: translateX(calc(-50% - 740px)) rotate(0deg) scale(1);   opacity:0; }
}
@keyframes tSwipeRight {
  0%   { transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);   opacity:1; }
  100% { transform: translateX(calc(-50% + 740px)) rotate(0deg) scale(1);   opacity:0; }
}

/* keep the slower timing if you set it earlier; or define a variable */
.tinder-deck { --swipe-duration: 1.8s; } /* tweak as you like */
.tinder-deck .card.swipe-left  { animation: tSwipeLeft  var(--swipe-duration) cubic-bezier(.22,.61,.36,1) forwards; }
.tinder-deck .card.swipe-right { animation: tSwipeRight var(--swipe-duration) cubic-bezier(.22,.61,.36,1) forwards; }

/* Make base restacking transitions smooth but un-tilted */
.tinder-deck .card{
  transition: transform .9s ease, opacity .5s ease, filter .5s ease;
}

/* --- "pressed" feedback on the buttons just before swipes --- */
.tinder-deck .action.is-pressed{
  transform: scale(.96);
  box-shadow: inset 0 2px 0 rgba(0,0,0,.02), 0 1px 2px rgba(0,0,0,.06);
}
.tinder-deck .action--dismiss.is-pressed{
  background:#FFE4E6; border-color:#FCA5A5; color:#DC2626;
}
.tinder-deck .action--apply.is-pressed{
  background:#D1FAE5; border-color:#6EE7B7; color:#059669;
}

/* Center the ✓ vertically next to the input/textarea */
.ai-form .ai-field{
  /* label on row 1, control on row 2; check gets its own narrow column */
  display: grid;
  grid-template-columns: 1fr 28px;   /* 22px dot + a little gap */
  grid-template-rows: auto auto;     /* label, then control */
  align-items: center;                /* vertically center the control row */
  gap: 6px 8px;                       /* row gap, col gap */
  position: relative;                 /* keep for other effects */
}

/* label spans both columns on the first row */
.ai-form .ai-field label{
  grid-column: 1 / -1;
  grid-row: 1;
}

/* input/textarea occupies the left column on the second row */
.ai-form .ai-field input,
.ai-form .ai-field textarea{
  grid-column: 1;
  grid-row: 2;
  /* no need to reserve space inside the control anymore */
  padding-right: 12px; /* was 40px */
}

/* the check sits in the right column, aligned and centered */
.ai-form .ai-field__check{
  grid-column: 2;
  grid-row: 2;
  position: static;                   /* stop absolute positioning */
  width: 22px; height: 22px;          /* keep your size */
  transform: scale(.6);               /* initial state */
  opacity: 0;                         /* initial state */
}

/* show animation when field is done */
.ai-form .ai-field.is-done .ai-field__check{
  transform: scale(1);
  opacity: 1;
}

/* textarea variant still works (it lives in the same grid cell) */
.ai-form .ai-field--textarea textarea{ padding-right: 12px; }

/* Give the cover note textarea extra height and padding */
.ai-form .ai-field--textarea textarea{
  /* taller + comfier line height */
  min-height: 140px;          /* independent of rows=4 */
  line-height: 1.5;

  /* more vertical padding so the text clears the border */
  padding: 16px 16px 20px 14px;   /* top right bottom left */

  /* make sure Safari/WebKit draws background inside the border */
  -webkit-appearance: none;
  background-clip: padding-box;
}

/* If you see the resize handle crowding the border, keep vertical-only resize */
.ai-form .ai-field--textarea textarea{
  resize: vertical;
}

/* --- Wider demo window --- */
.ai-demo{
  --ai-w: 560px; /* was 760px */
}

/* --- 2-column form layout --- */
.ai-form{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px 16px;              /* row / column gap */
  align-items: start;
}

/* Full-width rows */
.ai-form .ai-field--textarea,
.ai-form .ai-consent,
.ai-form .ai-actions,
.ai-form .ai-status{
  grid-column: 1 / -1;
}

/* Keep buttons tidy if they wrap */
.ai-actions{ flex-wrap: wrap; }

/* Responsive: collapse to 1 column */
@media (max-width: 820px){
  .ai-demo{ --ai-w: 520px; }   /* back to comfy width on smaller screens */
  .ai-form{ grid-template-columns: 1fr; }
}


  </style>

  <!-- ADD: scoped success styling (inside the form card only) -->
<style>
  /* scope overlay to the form card */
  .ai-demo__window{ position: relative; }

  .ai-success{
    position:absolute; inset:0;
    display:grid; place-items:center;
    background: rgba(255,255,255,.55);         /* soft veil inside the card only */
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    opacity:0; visibility:hidden; pointer-events:none;
    transition: opacity .25s ease, visibility .25s ease;
    border-radius: 16px;                        /* match card radius */
  }
  .ai-success.is-visible{ opacity:1; visibility:visible; pointer-events:auto; }

  .ai-success__card{
    background:#fff; border-radius:16px; padding:24px 28px;
    width:min(92%, 380px); text-align:center;
    border:1px solid #e5e7eb; box-shadow: 0 12px 30px rgba(0,0,0,.14);
  }
  .ai-success__card h4{ margin:12px 0 6px; font-weight:800; }
  .ai-success__card p{ margin:0 0 14px; color:#6b7280; }

  .ai-success__icon svg{ width:56px; height:56px; }
  .ai-success__icon .ring{ stroke:#A7F3D0; stroke-width:5; fill:none; opacity:.9; }
  .ai-success__icon .mark{
    stroke:#10B981; stroke-width:5; fill:none; stroke-linecap:round; stroke-linejoin:round;
    stroke-dasharray:60; stroke-dashoffset:60; animation: aiCheck .6s ease forwards .15s;
  }
  @keyframes aiCheck{ to{ stroke-dashoffset:0; } }

  /* Green "sent" state on the actual form */
  .ai-demo__window.is-success{
    border-color: rgba(16,185,129,.6);
    box-shadow: 0 0 0 3px rgba(16,185,129,.18), 0 18px 40px rgba(0,0,0,.12);
  }
  .ai-form.is-success input,
  .ai-form.is-success textarea{
    border-color: rgba(16,185,129,.7);
    background: #F0FDF4;
  }
  .ai-form.is-success .ai-actions .ai-submit{
    background:#10B981;
  }
</style>

<style>
  /* Fade-out + hide */
  .ai-demo__window{ transition: opacity .35s ease, transform .35s ease; }
  .ai-demo__window.is-fading{ opacity: 0; transform: translateY(8px) scale(.98); }
  .ai-demo[hidden]{ display: none !important; }
</style>

  

<script>
  /* =========================
     1) Your original 3D .deck script (unchanged)
  ========================= */
  document.addEventListener("DOMContentLoaded", () => {
    const deck  = document.querySelector(".deck");
    if (!deck) return;
  
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const getGap = () => parseFloat(getComputedStyle(deck).getPropertyValue('--gap')) || 140;
  
    const transformFor = (i, gap) => {
      if (i === 0) return `translateX(0px) translateZ(40px) rotateY(-14deg)`;
      if (i === 1) return `translateX(${gap}px) translateZ(10px) rotateY(-20deg)`;
      return `translateX(${i * gap}px) translateZ(-20px) rotateY(-24deg)`; // i >= 2
    };
  
    const reorder = () => {
      const cards = deck.querySelectorAll(".card");
      const gap   = getGap();
      cards.forEach((card, i) => {
        card.style.zIndex = cards.length - i;
        card.style.transition = "transform .3s ease-out";
        card.style.transform  = transformFor(i, gap);
        setTimeout(() => {
          card.style.transition = "transform .8s ease-in-out, opacity .6s ease";
        }, 300);
      });
    };
  
    let isAnimating = false;
    const delayBetweenSwipes = 2000;
  
    const swipeNext = () => {
      if (prefersReduced || isAnimating) return;
      const first = deck.querySelector(".card");
      if (!first) return;
  
      isAnimating = true;
      first.style.zIndex = 999;
      first.classList.add("swiping");
  
      first.addEventListener("animationend", () => {
        first.style.opacity = "0";
        deck.appendChild(first);
        first.classList.remove("swiping");
  
        const cards = deck.querySelectorAll(".card");
        const gap   = getGap();
        const lastIndex = cards.length - 1;
  
        first.style.transition = "none";
        first.style.zIndex = cards.length - lastIndex;
        first.style.transform = transformFor(lastIndex, gap);
  
        cards.forEach((card, i) => {
          if (card === first) return;
          card.style.zIndex = cards.length - i;
          card.style.transition = "transform .3s ease-out";
          card.style.transform = transformFor(i, gap);
        });
  
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            first.style.transition = "opacity .35s ease";
            first.style.opacity = "1";
            setTimeout(() => {
              first.style.transition = "transform .8s ease-in-out, opacity .6s ease";
              cards.forEach(card => {
                if (card !== first) card.style.transition = "transform .8s ease-in-out, opacity .6s ease";
              });
              isAnimating = false;
              setTimeout(swipeNext, delayBetweenSwipes);
            }, 380);
          });
        });
      }, { once: true });
    };
  
    reorder();
    if (!prefersReduced) setTimeout(swipeNext, delayBetweenSwipes);
  
    window.addEventListener('resize', reorder);
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        isAnimating = true;
      } else {
        isAnimating = false;
        reorder();
        if (!prefersReduced) setTimeout(swipeNext, delayBetweenSwipes);
      }
    });
  });
  </script>
  
  <script>
    /* =========================
       A) AI Form controller (AIDemo)
    ========================= */
    (() => {
      const onReady = (fn) =>
        document.readyState === 'loading'
          ? document.addEventListener('DOMContentLoaded', fn, { once: true })
          : fn();
    
      onReady(() => {
        const root = document.querySelector('.ai-demo');
        if (!root) return;
    
        const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
        const pause = (ms) => new Promise(r => setTimeout(r, ms));
    
        const fields = {
          name:      document.getElementById('ai-name'),
          email:     document.getElementById('ai-email'),
          portfolio: document.getElementById('ai-portfolio'),
          resume:    document.getElementById('ai-resume'),
          cover:     document.getElementById('ai-cover'),
          consent:   document.getElementById('ai-consent'),
        };
    
        const resumeBtn  = root.querySelector('.ai-file__btn');
        const resumeName = root.querySelector('.ai-file__name');
        const uploadWrap = root.querySelector('.ai-upload');
        const uploadBar  = root.querySelector('.ai-upload__bar');
        const winEl      = root.querySelector('.ai-demo__window');
        const formEl     = root.querySelector('.ai-form');
    
        const progressBar = root.querySelector('.ai-demo__bar');
        const progressPct = root.querySelector('.ai-demo__pct');
        const statusText  = root.querySelector('#ai-status');
        const btnSubmit   = root.querySelector('.ai-submit');
        const btnReplay   = root.querySelector('.ai-replay');
    
        // success overlay (scoped to the card)
        const ensureSuccessUI = () => {
          let overlay = winEl.querySelector('.ai-success');
          if (!overlay) {
            winEl.insertAdjacentHTML('beforeend', `
              <div class="ai-success" hidden>
                <div class="ai-success__card" role="dialog" aria-modal="true" aria-label="{% trans 'Application sent' %}">
                  <div class="ai-success__icon" aria-hidden="true">
                    <svg viewBox="0 0 52 52">
                      <circle class="ring" cx="26" cy="26" r="24"></circle>
                      <path class="mark" d="M16 27l7 7 13-13"></path>
                    </svg>
                  </div>
                  <h4>{% trans "Application sent!" %}</h4>
                  <p>{% trans "Your application was sent successfully." %}</p>
                  <button type="button" class="btn btn--primary ai-success__ok">{% trans "Nice!" %}</button>
                </div>
              </div>
            `);
            overlay = winEl.querySelector('.ai-success');
          }
          return { overlay, ok: overlay.querySelector('.ai-success__ok') };
        };
        const success = ensureSuccessUI();
    
        const setProgress = (v) => {
          const pct = Math.min(100, Math.max(0, Math.round(v)));
          progressBar.style.setProperty('--pct', pct + '%');
          progressPct.textContent = pct + '%';
        };
    
        const typeInto = (el, text, speed = 22, onTick) => new Promise((resolve) => {
          if (prefersReduced) { el.value = text; onTick?.(text.length); resolve(); return; }
          let i = 0; el.value = '';
          const tick = () => {
            if (i > text.length) return resolve();
            el.value = text.slice(0, i);
            onTick?.(1);
            i++; setTimeout(tick, speed + Math.random() * 18);
          };
          tick();
        });
    
        const RESUME_WEIGHT = prefersReduced ? 1 : 60;
        const steps = [
          { el: fields.name,      text: 'Ava Jensen' },
          { el: fields.email,     text: 'ava.jensen@uni.dk' },
          { el: fields.portfolio, text: 'https://ava.work' },
          { el: fields.resume,    upload: true, focusEl: resumeBtn },
          { el: fields.cover,     text:
            "I’m excited to apply for the Investment Banking Intern role. At CBS Finance Club, I led a 4-member team on DCF/LBO case prep and placed top 3 in a regional valuation challenge. I’m comfortable with Excel, PowerPoint, and Bloomberg, and I’m eager to contribute from day one."
          },
          { el: fields.consent,   check: true }
        ];
    
        const showSuccess = () => {
          winEl.classList.add('is-success');
          formEl.classList.add('is-success');
          success.overlay.removeAttribute('hidden');
          success.overlay.classList.add('is-visible');
          success.ok?.focus();
        };
        const hideSuccess = () => {
          success.overlay.classList.remove('is-visible');
          success.overlay.setAttribute('hidden','');
          winEl.classList.remove('is-success');
          formEl.classList.remove('is-success');
        };
    
        const fadeOutAndHide = async (delay = 1100) => {
          if (prefersReduced) { root.setAttribute('hidden',''); root.setAttribute('aria-hidden','true'); return; }
          await pause(delay);
          winEl.classList.add('is-fading');
          await new Promise(res => winEl.addEventListener('transitionend', res, { once: true }));
          root.setAttribute('hidden','');
          root.setAttribute('aria-hidden','true');
          winEl.classList.remove('is-fading');
        };
    
        const autoPressAndCelebrate = async () => {
          statusText.textContent = "{% trans 'Submitting…' %}";
          await pause(prefersReduced ? 120 : 600);
          showSuccess();
          await fadeOutAndHide(prefersReduced ? 0 : 1100);
        };
    
        let isRunning = false;
        const run = async () => {
          if (isRunning) return;
          isRunning = true;
    
          hideSuccess();
          root.removeAttribute('hidden');
          root.removeAttribute('aria-hidden');
    
          // reset
          Object.values(fields).forEach((el) => {
            if (!el) return;
            if (el.type === 'checkbox') el.checked = false;
            else el.value = '';
            el.closest('.ai-field')?.classList.remove('is-active','is-done');
          });
          resumeName && (resumeName.textContent = resumeName.getAttribute('data-empty') || '');
          uploadWrap?.classList.remove('is-visible');
          uploadBar?.style.setProperty('--up','0%');
    
          const totalChars = steps.reduce((n, s) => n + (s.text ? s.text.length : 0), 0) + RESUME_WEIGHT || 1;
          let typed = 0; setProgress(0);
          const focusField = (el) => {
            const wrap = el.closest('.ai-field');
            root.querySelectorAll('.ai-field').forEach(w => w.classList.remove('is-active'));
            wrap?.classList.add('is-active');
            wrap?.scrollIntoView?.({ block: 'nearest', behavior: prefersReduced ? 'auto' : 'smooth' });
          };
          const checkField = (el) => el.closest('.ai-field')?.classList.add('is-done');
    
          const attachResume = async () => {
            const D = prefersReduced ? 40 : 1200; let used = 0;
            uploadWrap?.classList.add('is-visible'); uploadBar?.style.setProperty('--up','0%');
            await new Promise((resolve) => {
              const start = performance.now();
              const step = (now) => {
                const t = Math.min(1, (now - start) / D);
                uploadBar?.style.setProperty('--up', Math.round(t*100) + '%');
                const add = Math.round(RESUME_WEIGHT * t) - used;
                if (add > 0) { used += add; typed += add; setProgress(typed/totalChars*100); }
                if (t < 1) requestAnimationFrame(step); else resolve();
              };
              requestAnimationFrame(step);
            });
            resumeName && (resumeName.textContent = 'Ava_Jensen_Resume.pdf');
            uploadWrap?.classList.remove('is-visible');
          };
    
          const pauseStep = prefersReduced ? 40 : 180;
    
          for (const s of steps) {
            if (!s.el) continue;
            focusField(s.focusEl || s.el);
    
            if (s.upload) { await attachResume(); checkField(s.el); await pause(pauseStep); continue; }
            if (s.check)  { if (!prefersReduced) await pause(300); s.el.checked = true; checkField(s.el); if (!prefersReduced) await pause(200); continue; }
    
            statusText.textContent = "{% trans 'Filling' %} " + (s.el.labels?.[0]?.innerText || '') + "…";
            await typeInto(s.el, s.text, 22, () => { typed += 1; setProgress(typed/totalChars*100); });
            checkField(s.el);
            await pause(pauseStep);
          }
    
          setProgress(100);
          statusText.textContent = "{% trans 'Ready to submit — optimized by AI.' %}";
          await autoPressAndCelebrate();
          isRunning = false;
          return true;
        };
    
        btnReplay?.addEventListener('click', run);
    
        window.AIDemo = {
          runOnce: run,
          hide: () => { root.setAttribute('hidden',''); root.setAttribute('aria-hidden','true'); },
          show: () => { root.removeAttribute('hidden'); root.removeAttribute('aria-hidden'); }
        };
      });
    })();
    </script>
    
    <script>
    /* =========================
       B) Tinder controller (TinderDemo)
    ========================= */
    (() => {
      const ready = (fn) =>
        document.readyState === 'loading'
          ? document.addEventListener('DOMContentLoaded', fn, { once: true })
          : fn();
    
      ready(() => {
        const section = document.querySelector('.tinder-section');
        const deck    = document.querySelector('.tinder-deck');
        if (!deck || !section) return;
    
        const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
        const PAUSE = 1600, PRESS = 220;
        let swipeRightNext = false;
    
        const setStack = () => {
          const cards = [...deck.querySelectorAll('.card')];
          cards.forEach(c => c.classList.remove('is-top','is-next'));
          cards.forEach((c, i) => c.style.zIndex = String(cards.length - i));
          if (cards[0]) cards[0].classList.add('is-top');
          if (cards[1]) cards[1].classList.add('is-next');
        };
    
        const pause = (ms) => new Promise(r => setTimeout(r, ms));
    
        const swipeOnce = async () => {
          const top = deck.querySelector('.card.is-top') || deck.querySelector('.card');
          if (!top) return;
    
          const btnDismiss = top.querySelector('.action--dismiss');
          const btnApply   = top.querySelector('.action--apply');
          const pressBtn   = swipeRightNext ? btnApply : btnDismiss;
          if (pressBtn){
            pressBtn.classList.add('is-pressed');
            pressBtn.setAttribute('aria-pressed','true');
            await pause(PRESS);
            pressBtn.classList.remove('is-pressed');
            pressBtn.removeAttribute('aria-pressed');
          }
    
          top.classList.add(swipeRightNext ? 'swipe-right' : 'swipe-left');
          await new Promise(res => top.addEventListener('animationend', res, { once: true }));
          top.classList.remove('swipe-left','swipe-right','is-top');
          top.style.opacity = '0';
          deck.appendChild(top);
          setStack();
          swipeRightNext = !swipeRightNext;
        };
    
        setStack();
    
        window.TinderDemo = {
          count: () => deck.querySelectorAll('.card').length,
          setVisible: (show) => {
            if (show) { section.removeAttribute('hidden'); section.removeAttribute('aria-hidden'); }
            else { section.setAttribute('hidden',''); section.setAttribute('aria-hidden','true'); }
          },
          play: async (swipes = 3) => {
            if (prefersReduced) return true;
            window.TinderDemo.setVisible(true);
            setStack();
            for (let i = 0; i < swipes; i++) {
              await swipeOnce();
              await pause(PAUSE);
            }
            return true;
          }
        };
      });
    })();
    </script>
    
    <script>
    /* =========================
       C) ORCHESTRATOR
       - Wraps both in .demo-stage
       - Stacks them in the SAME place (cards on top)
       - Plays: Tinder → Form → Tinder → …
    ========================= */
    (() => {
      const ready = (fn) =>
        document.readyState === 'loading'
          ? document.addEventListener('DOMContentLoaded', fn, { once: true })
          : fn();
    
      ready(() => {
        const tinder = document.querySelector('.tinder-section');
        const form   = document.querySelector('.ai-demo');
        if (!tinder || !form) return;
    
        // 1) Create a wrapper right before the Tinder section and move both inside it.
        let stage = document.querySelector('.demo-stage');
        if (!stage) {
          stage = document.createElement('div');
          stage.className = 'demo-stage';
          tinder.parentNode.insertBefore(stage, tinder);
          stage.appendChild(tinder);
          stage.appendChild(form);
        }
    
        // 2) Force absolute overlay so they occupy the exact same coordinates.
        Object.assign(stage.style, {
          position: 'relative',
          width: 'min(100%, 560px)',         // same as --ai-w
          margin: '18px 0 0',                // match your form margin
        });
        Object.assign(tinder.style, { position: 'absolute', inset: '0', zIndex: 2, margin: '0' });
        Object.assign(form.style,   { position: 'absolute', inset: '0', zIndex: 1, margin: '0' });
    
        // 3) Start state: show Tinder, hide form.
        form.setAttribute('hidden',''); form.setAttribute('aria-hidden','true');
        tinder.removeAttribute('hidden'); tinder.removeAttribute('aria-hidden');
    
        // 4) Keep the wrapper tall enough to avoid layout jumps.
        const measure = () => {
          const tHidden = tinder.hasAttribute('hidden');
          const fHidden = form.hasAttribute('hidden');
          if (tHidden) tinder.removeAttribute('hidden');
          if (fHidden) form.removeAttribute('hidden');
          const h = Math.max(tinder.offsetHeight || 0, form.offsetHeight || 0, 420);
          stage.style.minHeight = h + 'px';
          if (tHidden) tinder.setAttribute('hidden','');
          if (fHidden) form.setAttribute('hidden','');
        };
        measure();
        addEventListener('resize', measure);
        document.addEventListener('visibilitychange', () => { if (!document.hidden) measure(); });
    
        // 5) Run in sequence forever.
        const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) return;
    
        const pause = (ms) => new Promise(r => setTimeout(r, ms));
    
        (async function loop(){
          // wait until the stage is actually visible in viewport
          await new Promise(res => {
            const io = new IntersectionObserver((entries) => {
              if (entries.some(e => e.isIntersecting)) { io.disconnect(); res(); }
            }, { threshold: 0.3 });
            io.observe(stage);
          });
    
          while (true) {
            // Tinder first (cards visible, form hidden)
            form.setAttribute('hidden',''); form.setAttribute('aria-hidden','true');
            tinder.removeAttribute('hidden'); tinder.removeAttribute('aria-hidden');
            measure();
            const swipes = Math.max(3, window.TinderDemo?.count?.() || 3);
            await window.TinderDemo?.play?.(swipes);
            await pause(300);
    
            // Then form in the exact same place
            tinder.setAttribute('hidden',''); tinder.setAttribute('aria-hidden','true');
            form.removeAttribute('hidden');   form.removeAttribute('aria-hidden');
            measure();
            await window.AIDemo?.runOnce?.();   // hides itself at the end
            await pause(400);
    
            // and loop…
          }
        })();
      });
    })();
    </script>
    
  


{% endblock content %}




