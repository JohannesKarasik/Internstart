<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Process Job Text</title>
  <style>
    body { font-family: Inter, sans-serif; background:#0b0f1a; color:#fff; padding:40px; }
    .card { background:#121826; border-radius:14px; padding:24px; max-width:800px; margin:auto; }
    select, textarea { width:100%; padding:12px; border-radius:10px; border:none; font-size:15px; margin-top:10px; }
    textarea { height:280px; }
    button { background:#FF2F5A; border:none; padding:12px 20px; border-radius:10px; color:#fff; font-weight:700; cursor:pointer; margin-top:10px; }
    .result { margin-top:20px; background:#1a2133; border-radius:10px; padding:16px; }
    label { font-weight:600; margin-top:12px; display:block; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Process Job Text</h1>
    <p>Paste a job description or posting below, then process it into structured data.</p>

    {% if error %}
      <p style="color:#f55;">❌ {{ error }}</p>
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      <!-- Dropdowns for dynamic selection -->
      <label for="industry">Industry</label>
      <select name="industry" id="industry" required>
        <option value="">-- Select Industry --</option>
        <option value="business_finance">Business & Finance</option>
        <option value="marketing">Marketing & Communications</option>
        <option value="software_backend">Software Development (Backend)</option>
        <option value="software_frontend">Software Development (Frontend)</option>
        <option value="sales_customer">Sales & Customer Relations</option>
      </select>

      <label for="job_type">Job Type</label>
      <select name="job_type" id="job_type" required>
        <option value="">-- Select Job Type --</option>
        <option value="internship">Internship</option>
        <option value="student_job">Student Job</option>
        <option value="full_time">Full-Time Job</option>
      </select>

      <label for="country">Country</label>
      <select name="country" id="country" required>
        <option value="">-- Select Country --</option>
        <option value="DK">🇩🇰 Denmark</option>
        <option value="US">🇺🇸 United States</option>
        <option value="UK">🇬🇧 United Kingdom</option>
        <option value="FRA">🇫🇷 France</option>
        <option value="GER">🇩🇪 Germany</option>
      </select>

      <label for="text">Paste Job Text</label>
      <textarea name="text" id="text" placeholder="Paste job description here..." required></textarea>

      <button type="submit">Process Text</button>
    </form>

    {% if success %}
    <div class="result">
      ✅ <b>{{ company_name }}</b><br>
      <b>Description:</b> {{ company_description }}<br>
      <b>Location:</b> {{ location }}<br>
      <b>Email:</b> {{ email }}<br>
      <b>Logo:</b> <img src="{{ logo_url }}" width="60" style="border-radius:6px;"><br>
      <b>Industry:</b> {{ industry }}<br>
      <b>Job Type:</b> {{ job_type }}<br>
      <b>Country:</b> {{ country }}<br>
      <p style="color:#4CAF50;">✅ Added to database successfully.</p>
    </div>
  {% endif %}
  </div>
</body>
</html>
